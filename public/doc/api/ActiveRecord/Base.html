<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: ActiveRecord::Base</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/lib/active_record/base_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb">/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb</a></li>
					
						<li><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/lib/active_record/connection_adapters/abstract/connection_specification_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb">/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb</a></li>
					
						<li><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/lib/active_record/connection_adapters/mysql_adapter_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/mysql_adapter.rb">/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/mysql_adapter.rb</a></li>
					
						<li><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/lib/active_record/connection_adapters/postgresql_adapter_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/postgresql_adapter.rb">/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/postgresql_adapter.rb</a></li>
					
						<li><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/lib/active_record/connection_adapters/sqlite3_adapter_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/sqlite3_adapter.rb">/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/sqlite3_adapter.rb</a></li>
					
						<li><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/lib/active_record/connection_adapters/sqlite_adapter_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/sqlite_adapter.rb">/Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/sqlite_adapter.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link"><a href="../Object.html">Object</a></p>
				
			</div>
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">CLASS</span> <a href="Base/ConnectionSpecification.html">ActiveRecord::Base::ConnectionSpecification</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-%3D%3D%3D">::===</a></li>
					
					<li><a href="#method-c-abstract_class%3F">::abstract_class?</a></li>
					
					<li><a href="#method-c-aggregate_mapping">::aggregate_mapping</a></li>
					
					<li><a href="#method-c-all_attributes_exists%3F">::all_attributes_exists?</a></li>
					
					<li><a href="#method-c-arel_engine">::arel_engine</a></li>
					
					<li><a href="#method-c-arel_table">::arel_table</a></li>
					
					<li><a href="#method-c-attr_accessible">::attr_accessible</a></li>
					
					<li><a href="#method-c-attr_protected">::attr_protected</a></li>
					
					<li><a href="#method-c-attr_readonly">::attr_readonly</a></li>
					
					<li><a href="#method-c-attribute_condition">::attribute_condition</a></li>
					
					<li><a href="#method-c-attribute_method%3F">::attribute_method?</a></li>
					
					<li><a href="#method-c-base_class">::base_class</a></li>
					
					<li><a href="#method-c-class_of_active_record_descendant">::class_of_active_record_descendant</a></li>
					
					<li><a href="#method-c-colorize_logging">::colorize_logging</a></li>
					
					<li><a href="#method-c-column_names">::column_names</a></li>
					
					<li><a href="#method-c-columns">::columns</a></li>
					
					<li><a href="#method-c-columns_hash">::columns_hash</a></li>
					
					<li><a href="#method-c-compute_type">::compute_type</a></li>
					
					<li><a href="#method-c-configurations">::configurations</a></li>
					
					<li><a href="#method-c-connected%3F">::connected?</a></li>
					
					<li><a href="#method-c-connection">::connection</a></li>
					
					<li><a href="#method-c-connection_handler">::connection_handler</a></li>
					
					<li><a href="#method-c-connection_pool">::connection_pool</a></li>
					
					<li><a href="#method-c-construct_attributes_from_arguments">::construct_attributes_from_arguments</a></li>
					
					<li><a href="#method-c-construct_finder_arel">::construct_finder_arel</a></li>
					
					<li><a href="#method-c-content_columns">::content_columns</a></li>
					
					<li><a href="#method-c-count_by_sql">::count_by_sql</a></li>
					
					<li><a href="#method-c-create">::create</a></li>
					
					<li><a href="#method-c-default_scope">::default_scope</a></li>
					
					<li><a href="#method-c-default_timezone">::default_timezone</a></li>
					
					<li><a href="#method-c-descends_from_active_record%3F">::descends_from_active_record?</a></li>
					
					<li><a href="#method-c-establish_connection">::establish_connection</a></li>
					
					<li><a href="#method-c-expand_attribute_names_for_aggregates">::expand_attribute_names_for_aggregates</a></li>
					
					<li><a href="#method-c-expand_hash_conditions_for_aggregates">::expand_hash_conditions_for_aggregates</a></li>
					
					<li><a href="#method-c-find_by_sql">::find_by_sql</a></li>
					
					<li><a href="#method-c-find_sti_class">::find_sti_class</a></li>
					
					<li><a href="#method-c-inheritance_column">::inheritance_column</a></li>
					
					<li><a href="#method-c-inspect">::inspect</a></li>
					
					<li><a href="#method-c-instantiate">::instantiate</a></li>
					
					<li><a href="#method-c-logger">::logger</a></li>
					
					<li><a href="#method-c-method_missing">::method_missing</a></li>
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-c-parse_sqlite_config%21">::parse_sqlite_config!</a></li>
					
					<li><a href="#method-c-pluralize_table_names">::pluralize_table_names</a></li>
					
					<li><a href="#method-c-primary_key_prefix_type">::primary_key_prefix_type</a></li>
					
					<li><a href="#method-c-quoted_table_name">::quoted_table_name</a></li>
					
					<li><a href="#method-c-readonly_attributes">::readonly_attributes</a></li>
					
					<li><a href="#method-c-remove_connection">::remove_connection</a></li>
					
					<li><a href="#method-c-reset_column_information">::reset_column_information</a></li>
					
					<li><a href="#method-c-respond_to%3F">::respond_to?</a></li>
					
					<li><a href="#method-c-retrieve_connection">::retrieve_connection</a></li>
					
					<li><a href="#method-c-sanitize_sql_array">::sanitize_sql_array</a></li>
					
					<li><a href="#method-c-sanitize_sql_for_assignment">::sanitize_sql_for_assignment</a></li>
					
					<li><a href="#method-c-sanitize_sql_for_conditions">::sanitize_sql_for_conditions</a></li>
					
					<li><a href="#method-c-sanitize_sql_hash_for_assignment">::sanitize_sql_hash_for_assignment</a></li>
					
					<li><a href="#method-c-sanitize_sql_hash_for_conditions">::sanitize_sql_hash_for_conditions</a></li>
					
					<li><a href="#method-c-schema_format">::schema_format</a></li>
					
					<li><a href="#method-c-serialize">::serialize</a></li>
					
					<li><a href="#method-c-serialized_attributes">::serialized_attributes</a></li>
					
					<li><a href="#method-c-set_inheritance_column">::set_inheritance_column</a></li>
					
					<li><a href="#method-c-set_sequence_name">::set_sequence_name</a></li>
					
					<li><a href="#method-c-set_table_name">::set_table_name</a></li>
					
					<li><a href="#method-c-sti_name">::sti_name</a></li>
					
					<li><a href="#method-c-subclasses">::subclasses</a></li>
					
					<li><a href="#method-c-table_exists%3F">::table_exists?</a></li>
					
					<li><a href="#method-c-table_name">::table_name</a></li>
					
					<li><a href="#method-c-table_name_prefix">::table_name_prefix</a></li>
					
					<li><a href="#method-c-table_name_suffix">::table_name_suffix</a></li>
					
					<li><a href="#method-c-timestamped_migrations">::timestamped_migrations</a></li>
					
					<li><a href="#method-c-type_condition">::type_condition</a></li>
					
					<li><a href="#method-c-undecorated_table_name">::undecorated_table_name</a></li>
					
					<li><a href="#method-c-unscoped">::unscoped</a></li>
					
					<li><a href="#method-c-with_exclusive_scope">::with_exclusive_scope</a></li>
					
					<li><a href="#method-c-with_scope">::with_scope</a></li>
					
					<li><a href="#method-i-%3D%3D">#==</a></li>
					
					<li><a href="#method-i-%5B%5D">#[]</a></li>
					
					<li><a href="#method-i-%5B%5D%3D">#[]=</a></li>
					
					<li><a href="#method-i-arel_attributes_values">#arel_attributes_values</a></li>
					
					<li><a href="#method-i-assign_multiparameter_attributes">#assign_multiparameter_attributes</a></li>
					
					<li><a href="#method-i-attribute_for_inspect">#attribute_for_inspect</a></li>
					
					<li><a href="#method-i-attribute_names">#attribute_names</a></li>
					
					<li><a href="#method-i-attribute_present%3F">#attribute_present?</a></li>
					
					<li><a href="#method-i-attributes">#attributes</a></li>
					
					<li><a href="#method-i-attributes%3D">#attributes=</a></li>
					
					<li><a href="#method-i-attributes_protected_by_default">#attributes_protected_by_default</a></li>
					
					<li><a href="#method-i-cache_key">#cache_key</a></li>
					
					<li><a href="#method-i-clone_attribute_value">#clone_attribute_value</a></li>
					
					<li><a href="#method-i-clone_attributes">#clone_attributes</a></li>
					
					<li><a href="#method-i-column_for_attribute">#column_for_attribute</a></li>
					
					<li><a href="#method-i-comma_pair_list">#comma_pair_list</a></li>
					
					<li><a href="#method-i-connection">#connection</a></li>
					
					<li><a href="#method-i-convert_number_column_value">#convert_number_column_value</a></li>
					
					<li><a href="#method-i-dup">#dup</a></li>
					
					<li><a href="#method-i-ensure_proper_type">#ensure_proper_type</a></li>
					
					<li><a href="#method-i-eql%3F">#eql?</a></li>
					
					<li><a href="#method-i-execute_callstack_for_multiparameter_attributes">#execute_callstack_for_multiparameter_attributes</a></li>
					
					<li><a href="#method-i-extract_callstack_for_multiparameter_attributes">#extract_callstack_for_multiparameter_attributes</a></li>
					
					<li><a href="#method-i-find_parameter_position">#find_parameter_position</a></li>
					
					<li><a href="#method-i-freeze">#freeze</a></li>
					
					<li><a href="#method-i-frozen%3F">#frozen?</a></li>
					
					<li><a href="#method-i-has_attribute%3F">#has_attribute?</a></li>
					
					<li><a href="#method-i-hash">#hash</a></li>
					
					<li><a href="#method-i-initialize_copy">#initialize_copy</a></li>
					
					<li><a href="#method-i-inspect">#inspect</a></li>
					
					<li><a href="#method-i-instantiate_time_object">#instantiate_time_object</a></li>
					
					<li><a href="#method-i-interpolate_sql">#interpolate_sql</a></li>
					
					<li><a href="#method-i-log_protected_attribute_removal">#log_protected_attribute_removal</a></li>
					
					<li><a href="#method-i-object_from_yaml">#object_from_yaml</a></li>
					
					<li><a href="#method-i-quote_columns">#quote_columns</a></li>
					
					<li><a href="#method-i-quote_value">#quote_value</a></li>
					
					<li><a href="#method-i-quoted_comma_pair_list">#quoted_comma_pair_list</a></li>
					
					<li><a href="#method-i-readonly%21">#readonly!</a></li>
					
					<li><a href="#method-i-readonly%3F">#readonly?</a></li>
					
					<li><a href="#method-i-remove_attributes_protected_from_mass_assignment">#remove_attributes_protected_from_mass_assignment</a></li>
					
					<li><a href="#method-i-remove_readonly_attributes">#remove_readonly_attributes</a></li>
					
					<li><a href="#method-i-to_param">#to_param</a></li>
					
					<li><a href="#method-i-type_cast_attribute_value">#type_cast_attribute_value</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/actionmailer-3_0_0_beta4/CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/actionmailer-3_0_0_beta4/MIT-LICENSE.html">MIT-LICENSE</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/actionmailer-3_0_0_beta4/README.html">README</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/actionpack-3_0_0_beta4/CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/actionpack-3_0_0_beta4/MIT-LICENSE.html">MIT-LICENSE</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/actionpack-3_0_0_beta4/README.html">README</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activemodel-3_0_0_beta4/CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activemodel-3_0_0_beta4/MIT-LICENSE.html">MIT-LICENSE</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activemodel-3_0_0_beta4/README.html">README</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activerecord-3_0_0_beta4/README.html">README</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activeresource-3_0_0_beta4/CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activeresource-3_0_0_beta4/README.html">README</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activesupport-3_0_0_beta4/CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/activesupport-3_0_0_beta4/README.html">README</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/railties-3_0_0_beta4/CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="..//Users/xstegner/_rvm/gems/ruby-1_9_2-rc1/gems/railties-3_0_0_beta4/README.html">README</a></li>
				
					<li class="file"><a href="../README.html">README</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../ActiveRecord/ActiveRecordError.html">ActiveRecord::ActiveRecordError</a></li>
				
					<li><a href="../ActiveRecord/AdapterNotFound.html">ActiveRecord::AdapterNotFound</a></li>
				
					<li><a href="../ActiveRecord/AdapterNotSpecified.html">ActiveRecord::AdapterNotSpecified</a></li>
				
					<li><a href="../ActiveRecord/Aggregations/ClassMethods.html">ActiveRecord::Aggregations::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/AssociationPreload/ClassMethods.html">ActiveRecord::AssociationPreload::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/AssociationTypeMismatch.html">ActiveRecord::AssociationTypeMismatch</a></li>
				
					<li><a href="../ActiveRecord/Associations/ClassMethods.html">ActiveRecord::Associations::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/Associations/ClassMethods/o.html">ActiveRecord::Associations::ClassMethods::o</a></li>
				
					<li><a href="../ActiveRecord/Associations/HasOneThroughAssociation.html">ActiveRecord::Associations::HasOneThroughAssociation</a></li>
				
					<li><a href="../ActiveRecord/Associations/ThroughAssociationScope.html">ActiveRecord::Associations::ThroughAssociationScope</a></li>
				
					<li><a href="../ActiveRecord/AttributeAssignmentError.html">ActiveRecord::AttributeAssignmentError</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/BeforeTypeCast.html">ActiveRecord::AttributeMethods::BeforeTypeCast</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/ClassMethods.html">ActiveRecord::AttributeMethods::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/Dirty.html">ActiveRecord::AttributeMethods::Dirty</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/PrimaryKey.html">ActiveRecord::AttributeMethods::PrimaryKey</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/PrimaryKey/ClassMethods.html">ActiveRecord::AttributeMethods::PrimaryKey::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/Query.html">ActiveRecord::AttributeMethods::Query</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/Read.html">ActiveRecord::AttributeMethods::Read</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/Read/ClassMethods.html">ActiveRecord::AttributeMethods::Read::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/TimeZoneConversion.html">ActiveRecord::AttributeMethods::TimeZoneConversion</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/TimeZoneConversion/ClassMethods.html">ActiveRecord::AttributeMethods::TimeZoneConversion::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/Write.html">ActiveRecord::AttributeMethods::Write</a></li>
				
					<li><a href="../ActiveRecord/AttributeMethods/Write/ClassMethods.html">ActiveRecord::AttributeMethods::Write::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/AutosaveAssociation.html">ActiveRecord::AutosaveAssociation</a></li>
				
					<li><a href="../ActiveRecord/AutosaveAssociation/ClassMethods.html">ActiveRecord::AutosaveAssociation::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/Base.html">ActiveRecord::Base</a></li>
				
					<li><a href="../ActiveRecord/Calculations.html">ActiveRecord::Calculations</a></li>
				
					<li><a href="../ActiveRecord/Callbacks.html">ActiveRecord::Callbacks</a></li>
				
					<li><a href="../ActiveRecord/Callbacks/ClassMethods.html">ActiveRecord::Callbacks::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/ConfigurationError.html">ActiveRecord::ConfigurationError</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/AbstractAdapter.html">ActiveRecord::ConnectionAdapters::AbstractAdapter</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/Column.html">ActiveRecord::ConnectionAdapters::Column</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/Column/Format.html">ActiveRecord::ConnectionAdapters::Column::Format</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/ConnectionHandler.html">ActiveRecord::ConnectionAdapters::ConnectionHandler</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/ConnectionManagement.html">ActiveRecord::ConnectionAdapters::ConnectionManagement</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/ConnectionPool.html">ActiveRecord::ConnectionAdapters::ConnectionPool</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/DatabaseLimits.html">ActiveRecord::ConnectionAdapters::DatabaseLimits</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/DatabaseStatements.html">ActiveRecord::ConnectionAdapters::DatabaseStatements</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/MysqlAdapter.html">ActiveRecord::ConnectionAdapters::MysqlAdapter</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLAdapter.html">ActiveRecord::ConnectionAdapters::PostgreSQLAdapter</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/PostgreSQLColumn.html">ActiveRecord::ConnectionAdapters::PostgreSQLColumn</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/QueryCache.html">ActiveRecord::ConnectionAdapters::QueryCache</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/Quoting.html">ActiveRecord::ConnectionAdapters::Quoting</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/SQLiteAdapter.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/SQLiteAdapter/Version.html">ActiveRecord::ConnectionAdapters::SQLiteAdapter::Version</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/SchemaStatements.html">ActiveRecord::ConnectionAdapters::SchemaStatements</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/Table.html">ActiveRecord::ConnectionAdapters::Table</a></li>
				
					<li><a href="../ActiveRecord/ConnectionAdapters/TableDefinition.html">ActiveRecord::ConnectionAdapters::TableDefinition</a></li>
				
					<li><a href="../ActiveRecord/ConnectionNotEstablished.html">ActiveRecord::ConnectionNotEstablished</a></li>
				
					<li><a href="../ActiveRecord/ConnectionTimeoutError.html">ActiveRecord::ConnectionTimeoutError</a></li>
				
					<li><a href="../ActiveRecord/CounterCache.html">ActiveRecord::CounterCache</a></li>
				
					<li><a href="../ActiveRecord/DangerousAttributeError.html">ActiveRecord::DangerousAttributeError</a></li>
				
					<li><a href="../ActiveRecord/DynamicFinderMatch.html">ActiveRecord::DynamicFinderMatch</a></li>
				
					<li><a href="../ActiveRecord/DynamicScopeMatch.html">ActiveRecord::DynamicScopeMatch</a></li>
				
					<li><a href="../ActiveRecord/FinderMethods.html">ActiveRecord::FinderMethods</a></li>
				
					<li><a href="../ActiveRecord/InvalidForeignKey.html">ActiveRecord::InvalidForeignKey</a></li>
				
					<li><a href="../ActiveRecord/IrreversibleMigration.html">ActiveRecord::IrreversibleMigration</a></li>
				
					<li><a href="../ActiveRecord/Locking.html">ActiveRecord::Locking</a></li>
				
					<li><a href="../ActiveRecord/Locking/Optimistic.html">ActiveRecord::Locking::Optimistic</a></li>
				
					<li><a href="../ActiveRecord/Locking/Optimistic/ClassMethods.html">ActiveRecord::Locking::Optimistic::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/Locking/Pessimistic.html">ActiveRecord::Locking::Pessimistic</a></li>
				
					<li><a href="../ActiveRecord/Migration.html">ActiveRecord::Migration</a></li>
				
					<li><a href="../ActiveRecord/MigrationProxy.html">ActiveRecord::MigrationProxy</a></li>
				
					<li><a href="../ActiveRecord/MultiparameterAssignmentErrors.html">ActiveRecord::MultiparameterAssignmentErrors</a></li>
				
					<li><a href="../ActiveRecord/NamedScope.html">ActiveRecord::NamedScope</a></li>
				
					<li><a href="../ActiveRecord/NamedScope/ClassMethods.html">ActiveRecord::NamedScope::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/NestedAttributes/ClassMethods.html">ActiveRecord::NestedAttributes::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/NestedAttributes/TooManyRecords.html">ActiveRecord::NestedAttributes::TooManyRecords</a></li>
				
					<li><a href="../ActiveRecord/Observer.html">ActiveRecord::Observer</a></li>
				
					<li><a href="../ActiveRecord/Persistence.html">ActiveRecord::Persistence</a></li>
				
					<li><a href="../ActiveRecord/PredicateBuilder.html">ActiveRecord::PredicateBuilder</a></li>
				
					<li><a href="../ActiveRecord/PreparedStatementInvalid.html">ActiveRecord::PreparedStatementInvalid</a></li>
				
					<li><a href="../ActiveRecord/QueryCache.html">ActiveRecord::QueryCache</a></li>
				
					<li><a href="../ActiveRecord/QueryCache/ClassMethods.html">ActiveRecord::QueryCache::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/QueryMethods.html">ActiveRecord::QueryMethods</a></li>
				
					<li><a href="../ActiveRecord/Railtie.html">ActiveRecord::Railtie</a></li>
				
					<li><a href="../ActiveRecord/Railties.html">ActiveRecord::Railties</a></li>
				
					<li><a href="../ActiveRecord/Railties/ControllerRuntime.html">ActiveRecord::Railties::ControllerRuntime</a></li>
				
					<li><a href="../ActiveRecord/Railties/ControllerRuntime/ClassMethods.html">ActiveRecord::Railties::ControllerRuntime::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/Railties/LogSubscriber.html">ActiveRecord::Railties::LogSubscriber</a></li>
				
					<li><a href="../ActiveRecord/ReadOnlyRecord.html">ActiveRecord::ReadOnlyRecord</a></li>
				
					<li><a href="../ActiveRecord/RecordInvalid.html">ActiveRecord::RecordInvalid</a></li>
				
					<li><a href="../ActiveRecord/RecordNotFound.html">ActiveRecord::RecordNotFound</a></li>
				
					<li><a href="../ActiveRecord/RecordNotSaved.html">ActiveRecord::RecordNotSaved</a></li>
				
					<li><a href="../ActiveRecord/RecordNotUnique.html">ActiveRecord::RecordNotUnique</a></li>
				
					<li><a href="../ActiveRecord/Reflection/ClassMethods.html">ActiveRecord::Reflection::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/Reflection/MacroReflection.html">ActiveRecord::Reflection::MacroReflection</a></li>
				
					<li><a href="../ActiveRecord/Relation.html">ActiveRecord::Relation</a></li>
				
					<li><a href="../ActiveRecord/Rollback.html">ActiveRecord::Rollback</a></li>
				
					<li><a href="../ActiveRecord/Schema.html">ActiveRecord::Schema</a></li>
				
					<li><a href="../ActiveRecord/Serialization.html">ActiveRecord::Serialization</a></li>
				
					<li><a href="../ActiveRecord/SerializationTypeMismatch.html">ActiveRecord::SerializationTypeMismatch</a></li>
				
					<li><a href="../ActiveRecord/SessionStore.html">ActiveRecord::SessionStore</a></li>
				
					<li><a href="../ActiveRecord/SessionStore/Session.html">ActiveRecord::SessionStore::Session</a></li>
				
					<li><a href="../ActiveRecord/SessionStore/SqlBypass.html">ActiveRecord::SessionStore::SqlBypass</a></li>
				
					<li><a href="../ActiveRecord/SpawnMethods.html">ActiveRecord::SpawnMethods</a></li>
				
					<li><a href="../ActiveRecord/StaleObjectError.html">ActiveRecord::StaleObjectError</a></li>
				
					<li><a href="../ActiveRecord/StatementInvalid.html">ActiveRecord::StatementInvalid</a></li>
				
					<li><a href="../ActiveRecord/TestFixtures.html">ActiveRecord::TestFixtures</a></li>
				
					<li><a href="../ActiveRecord/TestFixtures/ClassMethods.html">ActiveRecord::TestFixtures::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/ThrowResult.html">ActiveRecord::ThrowResult</a></li>
				
					<li><a href="../ActiveRecord/Timestamp.html">ActiveRecord::Timestamp</a></li>
				
					<li><a href="../ActiveRecord/Transactions.html">ActiveRecord::Transactions</a></li>
				
					<li><a href="../ActiveRecord/Transactions/ClassMethods.html">ActiveRecord::Transactions::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/UnknownAttributeError.html">ActiveRecord::UnknownAttributeError</a></li>
				
					<li><a href="../ActiveRecord/Validations.html">ActiveRecord::Validations</a></li>
				
					<li><a href="../ActiveRecord/Validations/AssociatedValidator.html">ActiveRecord::Validations::AssociatedValidator</a></li>
				
					<li><a href="../ActiveRecord/Validations/ClassMethods.html">ActiveRecord::Validations::ClassMethods</a></li>
				
					<li><a href="../ActiveRecord/Validations/UniquenessValidator.html">ActiveRecord::Validations::UniquenessValidator</a></li>
				
					<li><a href="../ActiveRecord/WrappedDatabaseException.html">ActiveRecord::WrappedDatabaseException</a></li>
				
					<li><a href="../ActiveSupport/Autoload.html">ActiveSupport::Autoload</a></li>
				
					<li><a href="../ActiveSupport/BacktraceCleaner.html">ActiveSupport::BacktraceCleaner</a></li>
				
					<li><a href="../ActiveSupport/Base64.html">ActiveSupport::Base64</a></li>
				
					<li><a href="../ActiveSupport/BufferedLogger.html">ActiveSupport::BufferedLogger</a></li>
				
					<li><a href="../ActiveSupport/BufferedLogger/Severity.html">ActiveSupport::BufferedLogger::Severity</a></li>
				
					<li><a href="../ActiveSupport/Cache.html">ActiveSupport::Cache</a></li>
				
					<li><a href="../ActiveSupport/Cache/CompressedMemCacheStore.html">ActiveSupport::Cache::CompressedMemCacheStore</a></li>
				
					<li><a href="../ActiveSupport/Cache/Entry.html">ActiveSupport::Cache::Entry</a></li>
				
					<li><a href="../ActiveSupport/Cache/FileStore.html">ActiveSupport::Cache::FileStore</a></li>
				
					<li><a href="../ActiveSupport/Cache/MemCacheStore.html">ActiveSupport::Cache::MemCacheStore</a></li>
				
					<li><a href="../ActiveSupport/Cache/MemoryStore.html">ActiveSupport::Cache::MemoryStore</a></li>
				
					<li><a href="../ActiveSupport/Cache/Store.html">ActiveSupport::Cache::Store</a></li>
				
					<li><a href="../ActiveSupport/Cache/Strategy.html">ActiveSupport::Cache::Strategy</a></li>
				
					<li><a href="../ActiveSupport/Cache/Strategy/LocalCache.html">ActiveSupport::Cache::Strategy::LocalCache</a></li>
				
					<li><a href="../ActiveSupport/Cache/Strategy/LocalCache/LocalStore.html">ActiveSupport::Cache::Strategy::LocalCache::LocalStore</a></li>
				
					<li><a href="../ActiveSupport/Cache/SynchronizedMemoryStore.html">ActiveSupport::Cache::SynchronizedMemoryStore</a></li>
				
					<li><a href="../ActiveSupport/Callbacks.html">ActiveSupport::Callbacks</a></li>
				
					<li><a href="../ActiveSupport/Callbacks/Callback.html">ActiveSupport::Callbacks::Callback</a></li>
				
					<li><a href="../ActiveSupport/Callbacks/CallbackChain.html">ActiveSupport::Callbacks::CallbackChain</a></li>
				
					<li><a href="../ActiveSupport/Callbacks/ClassMethods.html">ActiveSupport::Callbacks::ClassMethods</a></li>
				
					<li><a href="../ActiveSupport/Concern.html">ActiveSupport::Concern</a></li>
				
					<li><a href="../ActiveSupport/Configurable.html">ActiveSupport::Configurable</a></li>
				
					<li><a href="../ActiveSupport/Configurable/ClassMethods.html">ActiveSupport::Configurable::ClassMethods</a></li>
				
					<li><a href="../ActiveSupport/Dependencies/Reference.html">ActiveSupport::Dependencies::Reference</a></li>
				
					<li><a href="../ActiveSupport/Dependencies/WatchStack.html">ActiveSupport::Dependencies::WatchStack</a></li>
				
					<li><a href="../ActiveSupport/Duration.html">ActiveSupport::Duration</a></li>
				
					<li><a href="../ActiveSupport/Gzip.html">ActiveSupport::Gzip</a></li>
				
					<li><a href="../ActiveSupport/Gzip/Stream.html">ActiveSupport::Gzip::Stream</a></li>
				
					<li><a href="../ActiveSupport/HashWithIndifferentAccess.html">ActiveSupport::HashWithIndifferentAccess</a></li>
				
					<li><a href="../ActiveSupport/HashWithIndifferentAccess.html">ActiveSupport::HashWithIndifferentAccess</a></li>
				
					<li><a href="../ActiveSupport/Inflector.html">ActiveSupport::Inflector</a></li>
				
					<li><a href="../ActiveSupport/Inflector/Inflections.html">ActiveSupport::Inflector::Inflections</a></li>
				
					<li><a href="../ActiveSupport/InheritableOptions.html">ActiveSupport::InheritableOptions</a></li>
				
					<li><a href="../ActiveSupport/JSON.html">ActiveSupport::JSON</a></li>
				
					<li><a href="../ActiveSupport/JSON/Backends.html">ActiveSupport::JSON::Backends</a></li>
				
					<li><a href="../ActiveSupport/JSON/Backends/JSONGem.html">ActiveSupport::JSON::Backends::JSONGem</a></li>
				
					<li><a href="../ActiveSupport/JSON/Backends/Yajl.html">ActiveSupport::JSON::Backends::Yajl</a></li>
				
					<li><a href="../ActiveSupport/JSON/Backends/Yaml.html">ActiveSupport::JSON::Backends::Yaml</a></li>
				
					<li><a href="../ActiveSupport/JSON/Encoding/CircularReferenceError.html">ActiveSupport::JSON::Encoding::CircularReferenceError</a></li>
				
					<li><a href="../ActiveSupport/JSON/Encoding/Encoder.html">ActiveSupport::JSON::Encoding::Encoder</a></li>
				
					<li><a href="../ActiveSupport/JSON/Variable.html">ActiveSupport::JSON::Variable</a></li>
				
					<li><a href="../ActiveSupport/Memoizable.html">ActiveSupport::Memoizable</a></li>
				
					<li><a href="../ActiveSupport/Memoizable/InstanceMethods.html">ActiveSupport::Memoizable::InstanceMethods</a></li>
				
					<li><a href="../ActiveSupport/MessageEncryptor.html">ActiveSupport::MessageEncryptor</a></li>
				
					<li><a href="../ActiveSupport/MessageEncryptor/InvalidMessage.html">ActiveSupport::MessageEncryptor::InvalidMessage</a></li>
				
					<li><a href="../ActiveSupport/MessageVerifier.html">ActiveSupport::MessageVerifier</a></li>
				
					<li><a href="../ActiveSupport/MessageVerifier/InvalidSignature.html">ActiveSupport::MessageVerifier::InvalidSignature</a></li>
				
					<li><a href="../ActiveSupport/Multibyte/Chars.html">ActiveSupport::Multibyte::Chars</a></li>
				
					<li><a href="../ActiveSupport/Multibyte/EncodingError.html">ActiveSupport::Multibyte::EncodingError</a></li>
				
					<li><a href="../ActiveSupport/Multibyte/Unicode.html">ActiveSupport::Multibyte::Unicode</a></li>
				
					<li><a href="../ActiveSupport/Multibyte/Unicode/Codepoint.html">ActiveSupport::Multibyte::Unicode::Codepoint</a></li>
				
					<li><a href="../ActiveSupport/Multibyte/Unicode/UnicodeDatabase.html">ActiveSupport::Multibyte::Unicode::UnicodeDatabase</a></li>
				
					<li><a href="../ActiveSupport/Notifications.html">ActiveSupport::Notifications</a></li>
				
					<li><a href="../ActiveSupport/Notifications/Event.html">ActiveSupport::Notifications::Event</a></li>
				
					<li><a href="../ActiveSupport/Notifications/Fanout.html">ActiveSupport::Notifications::Fanout</a></li>
				
					<li><a href="../ActiveSupport/Notifications/Instrumenter.html">ActiveSupport::Notifications::Instrumenter</a></li>
				
					<li><a href="../ActiveSupport/Notifications/Notifier.html">ActiveSupport::Notifications::Notifier</a></li>
				
					<li><a href="../ActiveSupport/OrderedOptions.html">ActiveSupport::OrderedOptions</a></li>
				
					<li><a href="../ActiveSupport/Railtie.html">ActiveSupport::Railtie</a></li>
				
					<li><a href="../ActiveSupport/Rescuable.html">ActiveSupport::Rescuable</a></li>
				
					<li><a href="../ActiveSupport/Rescuable/ClassMethods.html">ActiveSupport::Rescuable::ClassMethods</a></li>
				
					<li><a href="../ActiveSupport/SafeBuffer.html">ActiveSupport::SafeBuffer</a></li>
				
					<li><a href="../ActiveSupport/SecureRandom.html">ActiveSupport::SecureRandom</a></li>
				
					<li><a href="../ActiveSupport/StringInquirer.html">ActiveSupport::StringInquirer</a></li>
				
					<li><a href="../ActiveSupport/TestCase.html">ActiveSupport::TestCase</a></li>
				
					<li><a href="../ActiveSupport/Testing.html">ActiveSupport::Testing</a></li>
				
					<li><a href="../ActiveSupport/Testing/Assertions.html">ActiveSupport::Testing::Assertions</a></li>
				
					<li><a href="../ActiveSupport/Testing/Declarative.html">ActiveSupport::Testing::Declarative</a></li>
				
					<li><a href="../ActiveSupport/Testing/Isolation.html">ActiveSupport::Testing::Isolation</a></li>
				
					<li><a href="../ActiveSupport/Testing/Isolation/Forking.html">ActiveSupport::Testing::Isolation::Forking</a></li>
				
					<li><a href="../ActiveSupport/Testing/Isolation/MiniTest.html">ActiveSupport::Testing::Isolation::MiniTest</a></li>
				
					<li><a href="../ActiveSupport/Testing/Isolation/Subprocess.html">ActiveSupport::Testing::Isolation::Subprocess</a></li>
				
					<li><a href="../ActiveSupport/Testing/Isolation/TestUnit.html">ActiveSupport::Testing::Isolation::TestUnit</a></li>
				
					<li><a href="../ActiveSupport/Testing/Pending.html">ActiveSupport::Testing::Pending</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance.html">ActiveSupport::Testing::Performance</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Benchmarker.html">ActiveSupport::Testing::Performance::Benchmarker</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics.html">ActiveSupport::Testing::Performance::Metrics</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/Base.html">ActiveSupport::Testing::Performance::Metrics::Base</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/CpuTime.html">ActiveSupport::Testing::Performance::Metrics::CpuTime</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/GcRuns.html">ActiveSupport::Testing::Performance::Metrics::GcRuns</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/GcTime.html">ActiveSupport::Testing::Performance::Metrics::GcTime</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/Memory.html">ActiveSupport::Testing::Performance::Metrics::Memory</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/Objects.html">ActiveSupport::Testing::Performance::Metrics::Objects</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/ProcessTime.html">ActiveSupport::Testing::Performance::Metrics::ProcessTime</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/Time.html">ActiveSupport::Testing::Performance::Metrics::Time</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Metrics/WallTime.html">ActiveSupport::Testing::Performance::Metrics::WallTime</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Performer.html">ActiveSupport::Testing::Performance::Performer</a></li>
				
					<li><a href="../ActiveSupport/Testing/Performance/Profiler.html">ActiveSupport::Testing::Performance::Profiler</a></li>
				
					<li><a href="../ActiveSupport/Testing/ProxyTestResult.html">ActiveSupport::Testing::ProxyTestResult</a></li>
				
					<li><a href="../ActiveSupport/Testing/RemoteError.html">ActiveSupport::Testing::RemoteError</a></li>
				
					<li><a href="../ActiveSupport/Testing/SetupAndTeardown.html">ActiveSupport::Testing::SetupAndTeardown</a></li>
				
					<li><a href="../ActiveSupport/Testing/SetupAndTeardown/ClassMethods.html">ActiveSupport::Testing::SetupAndTeardown::ClassMethods</a></li>
				
					<li><a href="../ActiveSupport/Testing/SetupAndTeardown/ForClassicTestUnit.html">ActiveSupport::Testing::SetupAndTeardown::ForClassicTestUnit</a></li>
				
					<li><a href="../ActiveSupport/Testing/SetupAndTeardown/ForMiniTest.html">ActiveSupport::Testing::SetupAndTeardown::ForMiniTest</a></li>
				
					<li><a href="../ActiveSupport/TimeWithZone.html">ActiveSupport::TimeWithZone</a></li>
				
					<li><a href="../ActiveSupport/TimeZone.html">ActiveSupport::TimeZone</a></li>
				
					<li><a href="../ActiveSupport/XmlMini.html">ActiveSupport::XmlMini</a></li>
				
					<li><a href="../ActiveSupport/XmlMini_LibXMLSAX.html">ActiveSupport::XmlMini_LibXMLSAX</a></li>
				
					<li><a href="../ActiveSupport/XmlMini_LibXMLSAX/HashBuilder.html">ActiveSupport::XmlMini_LibXMLSAX::HashBuilder</a></li>
				
					<li><a href="../ActiveSupport/XmlMini_NokogiriSAX.html">ActiveSupport::XmlMini_NokogiriSAX</a></li>
				
					<li><a href="../ActiveSupport/XmlMini_NokogiriSAX/HashBuilder.html">ActiveSupport::XmlMini_NokogiriSAX::HashBuilder</a></li>
				
					<li><a href="../ActionController/Base.html">ActionController::Base</a></li>
				
					<li><a href="../ActionController/Caching.html">ActionController::Caching</a></li>
				
					<li><a href="../ActionController/Caching/Actions.html">ActionController::Caching::Actions</a></li>
				
					<li><a href="../ActionController/Caching/Actions/ActionCachePath.html">ActionController::Caching::Actions::ActionCachePath</a></li>
				
					<li><a href="../ActionController/Caching/Actions/ClassMethods.html">ActionController::Caching::Actions::ClassMethods</a></li>
				
					<li><a href="../ActionController/Caching/ConfigMethods.html">ActionController::Caching::ConfigMethods</a></li>
				
					<li><a href="../ActionController/Caching/Pages.html">ActionController::Caching::Pages</a></li>
				
					<li><a href="../ActionController/Caching/Pages/ClassMethods.html">ActionController::Caching::Pages::ClassMethods</a></li>
				
					<li><a href="../ActionController/Caching/Sweeping.html">ActionController::Caching::Sweeping</a></li>
				
					<li><a href="../ActionController/Compatibility.html">ActionController::Compatibility</a></li>
				
					<li><a href="../ActionController/Compatibility/ClassMethods.html">ActionController::Compatibility::ClassMethods</a></li>
				
					<li><a href="../ActionController/ConditionalGet.html">ActionController::ConditionalGet</a></li>
				
					<li><a href="../ActionController/Cookies.html">ActionController::Cookies</a></li>
				
					<li><a href="../ActionController/Dispatcher.html">ActionController::Dispatcher</a></li>
				
					<li><a href="../ActionController/Flash.html">ActionController::Flash</a></li>
				
					<li><a href="../ActionController/Head.html">ActionController::Head</a></li>
				
					<li><a href="../ActionController/Helpers.html">ActionController::Helpers</a></li>
				
					<li><a href="../ActionController/Helpers/ClassMethods.html">ActionController::Helpers::ClassMethods</a></li>
				
					<li><a href="../ActionController/HideActions.html">ActionController::HideActions</a></li>
				
					<li><a href="../ActionController/HideActions/ClassMethods.html">ActionController::HideActions::ClassMethods</a></li>
				
					<li><a href="../ActionController/HttpAuthentication.html">ActionController::HttpAuthentication</a></li>
				
					<li><a href="../ActionController/HttpAuthentication/Basic.html">ActionController::HttpAuthentication::Basic</a></li>
				
					<li><a href="../ActionController/HttpAuthentication/Basic/ControllerMethods.html">ActionController::HttpAuthentication::Basic::ControllerMethods</a></li>
				
					<li><a href="../ActionController/HttpAuthentication/Digest.html">ActionController::HttpAuthentication::Digest</a></li>
				
					<li><a href="../ActionController/HttpAuthentication/Digest/ControllerMethods.html">ActionController::HttpAuthentication::Digest::ControllerMethods</a></li>
				
					<li><a href="../ActionController/HttpAuthentication/Token.html">ActionController::HttpAuthentication::Token</a></li>
				
					<li><a href="../ActionController/HttpAuthentication/Token/ControllerMethods.html">ActionController::HttpAuthentication::Token::ControllerMethods</a></li>
				
					<li><a href="../ActionController/ImplicitRender.html">ActionController::ImplicitRender</a></li>
				
					<li><a href="../ActionController/Instrumentation.html">ActionController::Instrumentation</a></li>
				
					<li><a href="../ActionController/Instrumentation/ClassMethods.html">ActionController::Instrumentation::ClassMethods</a></li>
				
					<li><a href="../ActionController/Metal.html">ActionController::Metal</a></li>
				
					<li><a href="../ActionController/Middleware.html">ActionController::Middleware</a></li>
				
					<li><a href="../ActionController/Middleware/ActionMiddleware.html">ActionController::Middleware::ActionMiddleware</a></li>
				
					<li><a href="../ActionController/MimeResponds/ClassMethods.html">ActionController::MimeResponds::ClassMethods</a></li>
				
					<li><a href="../ActionController/PolymorphicRoutes.html">ActionController::PolymorphicRoutes</a></li>
				
					<li><a href="../ActionController/RackDelegation.html">ActionController::RackDelegation</a></li>
				
					<li><a href="../ActionController/Railtie.html">ActionController::Railtie</a></li>
				
					<li><a href="../ActionController/Railties.html">ActionController::Railties</a></li>
				
					<li><a href="../ActionController/Railties/LogSubscriber.html">ActionController::Railties::LogSubscriber</a></li>
				
					<li><a href="../ActionController/Railties/UrlHelpers.html">ActionController::Railties::UrlHelpers</a></li>
				
					<li><a href="../ActionController/Redirecting.html">ActionController::Redirecting</a></li>
				
					<li><a href="../ActionController/Renderers.html">ActionController::Renderers</a></li>
				
					<li><a href="../ActionController/Renderers/All.html">ActionController::Renderers::All</a></li>
				
					<li><a href="../ActionController/Renderers/ClassMethods.html">ActionController::Renderers::ClassMethods</a></li>
				
					<li><a href="../ActionController/Rendering.html">ActionController::Rendering</a></li>
				
					<li><a href="../ActionController/RequestForgeryProtection.html">ActionController::RequestForgeryProtection</a></li>
				
					<li><a href="../ActionController/RequestForgeryProtection/ClassMethods.html">ActionController::RequestForgeryProtection::ClassMethods</a></li>
				
					<li><a href="../ActionController/Rescue.html">ActionController::Rescue</a></li>
				
					<li><a href="../ActionController/Responder.html">ActionController::Responder</a></li>
				
					<li><a href="../ActionController/SessionManagement/ClassMethods.html">ActionController::SessionManagement::ClassMethods</a></li>
				
					<li><a href="../ActionController/Streaming.html">ActionController::Streaming</a></li>
				
					<li><a href="../ActionController/TemplateAssertions.html">ActionController::TemplateAssertions</a></li>
				
					<li><a href="../ActionController/TestCase.html">ActionController::TestCase</a></li>
				
					<li><a href="../ActionController/TestCase/Behavior.html">ActionController::TestCase::Behavior</a></li>
				
					<li><a href="../ActionController/TestCase/Behavior/ClassMethods.html">ActionController::TestCase::Behavior::ClassMethods</a></li>
				
					<li><a href="../ActionController/TestCase/RaiseActionExceptions.html">ActionController::TestCase::RaiseActionExceptions</a></li>
				
					<li><a href="../ActionController/TestResponse.html">ActionController::TestResponse</a></li>
				
					<li><a href="../ActionController/Testing.html">ActionController::Testing</a></li>
				
					<li><a href="../ActionController/Testing/ClassMethods.html">ActionController::Testing::ClassMethods</a></li>
				
					<li><a href="../ActionController/UrlFor.html">ActionController::UrlFor</a></li>
				
					<li><a href="../ActionController/UrlFor/ClassMethods.html">ActionController::UrlFor::ClassMethods</a></li>
				
					<li><a href="../ActionView/Base.html">ActionView::Base</a></li>
				
					<li><a href="../ActionView/Context.html">ActionView::Context</a></li>
				
					<li><a href="../ActionView/FileSystemResolver.html">ActionView::FileSystemResolver</a></li>
				
					<li><a href="../ActionView/FixtureResolver.html">ActionView::FixtureResolver</a></li>
				
					<li><a href="../ActionView/Helpers/ActiveModelFormBuilder.html">ActionView::Helpers::ActiveModelFormBuilder</a></li>
				
					<li><a href="../ActionView/Helpers/ActiveModelHelper.html">ActionView::Helpers::ActiveModelHelper</a></li>
				
					<li><a href="../ActionView/Helpers/ActiveModelInstanceTag.html">ActionView::Helpers::ActiveModelInstanceTag</a></li>
				
					<li><a href="../ActionView/Helpers/AssetTagHelper.html">ActionView::Helpers::AssetTagHelper</a></li>
				
					<li><a href="../ActionView/Helpers/AtomFeedHelper.html">ActionView::Helpers::AtomFeedHelper</a></li>
				
					<li><a href="../ActionView/Helpers/AtomFeedHelper/AtomBuilder.html">ActionView::Helpers::AtomFeedHelper::AtomBuilder</a></li>
				
					<li><a href="../ActionView/Helpers/AtomFeedHelper/AtomFeedBuilder.html">ActionView::Helpers::AtomFeedHelper::AtomFeedBuilder</a></li>
				
					<li><a href="../ActionView/Helpers/CsrfHelper.html">ActionView::Helpers::CsrfHelper</a></li>
				
					<li><a href="../ActionView/Helpers/DateHelper.html">ActionView::Helpers::DateHelper</a></li>
				
					<li><a href="../ActionView/Helpers/DebugHelper.html">ActionView::Helpers::DebugHelper</a></li>
				
					<li><a href="../ActionView/Helpers/FormHelper.html">ActionView::Helpers::FormHelper</a></li>
				
					<li><a href="../ActionView/Helpers/FormOptionsHelper.html">ActionView::Helpers::FormOptionsHelper</a></li>
				
					<li><a href="../ActionView/Helpers/FormTagHelper.html">ActionView::Helpers::FormTagHelper</a></li>
				
					<li><a href="../ActionView/Helpers/InstanceTagMethods/ClassMethods.html">ActionView::Helpers::InstanceTagMethods::ClassMethods</a></li>
				
					<li><a href="../ActionView/Helpers/JavaScriptHelper.html">ActionView::Helpers::JavaScriptHelper</a></li>
				
					<li><a href="../ActionView/Helpers/NumberHelper.html">ActionView::Helpers::NumberHelper</a></li>
				
					<li><a href="../ActionView/Helpers/NumberHelper/InvalidNumberError.html">ActionView::Helpers::NumberHelper::InvalidNumberError</a></li>
				
					<li><a href="../ActionView/Helpers/PrototypeHelper.html">ActionView::Helpers::PrototypeHelper</a></li>
				
					<li><a href="../ActionView/Helpers/PrototypeHelper/JavaScriptGenerator/GeneratorMethods.html">ActionView::Helpers::PrototypeHelper::JavaScriptGenerator::GeneratorMethods</a></li>
				
					<li><a href="../ActionView/Helpers/RawOutputHelper.html">ActionView::Helpers::RawOutputHelper</a></li>
				
					<li><a href="../ActionView/Helpers/RecordIdentificationHelper.html">ActionView::Helpers::RecordIdentificationHelper</a></li>
				
					<li><a href="../ActionView/Helpers/SanitizeHelper.html">ActionView::Helpers::SanitizeHelper</a></li>
				
					<li><a href="../ActionView/Helpers/ScriptaculousHelper.html">ActionView::Helpers::ScriptaculousHelper</a></li>
				
					<li><a href="../ActionView/Helpers/TagHelper.html">ActionView::Helpers::TagHelper</a></li>
				
					<li><a href="../ActionView/Helpers/TranslationHelper.html">ActionView::Helpers::TranslationHelper</a></li>
				
					<li><a href="../ActionView/Helpers/UrlHelper.html">ActionView::Helpers::UrlHelper</a></li>
				
					<li><a href="../ActionView/LookupContext/Details.html">ActionView::LookupContext::Details</a></li>
				
					<li><a href="../ActionView/LookupContext/ViewPaths.html">ActionView::LookupContext::ViewPaths</a></li>
				
					<li><a href="../ActionView/NullResolver.html">ActionView::NullResolver</a></li>
				
					<li><a href="../ActionView/OutputBuffer.html">ActionView::OutputBuffer</a></li>
				
					<li><a href="../ActionView/PathResolver.html">ActionView::PathResolver</a></li>
				
					<li><a href="../ActionView/Railtie.html">ActionView::Railtie</a></li>
				
					<li><a href="../ActionView/Railties.html">ActionView::Railties</a></li>
				
					<li><a href="../ActionView/Railties/LogSubscriber.html">ActionView::Railties::LogSubscriber</a></li>
				
					<li><a href="../ActionView/Rendering.html">ActionView::Rendering</a></li>
				
					<li><a href="../ActionView/Resolver.html">ActionView::Resolver</a></li>
				
					<li><a href="../ActionView/Template.html">ActionView::Template</a></li>
				
					<li><a href="../ActionView/Template/Handler.html">ActionView::Template::Handler</a></li>
				
					<li><a href="../ActionView/Template/Handlers/Builder.html">ActionView::Template::Handlers::Builder</a></li>
				
					<li><a href="../ActionView/Template/Handlers/Compilable.html">ActionView::Template::Handlers::Compilable</a></li>
				
					<li><a href="../ActionView/Template/Handlers/Compilable/ClassMethods.html">ActionView::Template::Handlers::Compilable::ClassMethods</a></li>
				
					<li><a href="../ActionView/Template/Handlers/ERB.html">ActionView::Template::Handlers::ERB</a></li>
				
					<li><a href="../ActionView/Template/Handlers/Erubis.html">ActionView::Template::Handlers::Erubis</a></li>
				
					<li><a href="../ActionView/Template/Handlers/RJS.html">ActionView::Template::Handlers::RJS</a></li>
				
					<li><a href="../ActionView/TestCase.html">ActionView::TestCase</a></li>
				
					<li><a href="../ActionView/TestCase/Behavior.html">ActionView::TestCase::Behavior</a></li>
				
					<li><a href="../ActionView/TestCase/Behavior/ClassMethods.html">ActionView::TestCase::Behavior::ClassMethods</a></li>
				
					<li><a href="../ActionView/TestCase/TestController.html">ActionView::TestCase::TestController</a></li>
				
					<li><a href="../ActiveModel/AttributeMethods.html">ActiveModel::AttributeMethods</a></li>
				
					<li><a href="../ActiveModel/AttributeMethods/ClassMethods.html">ActiveModel::AttributeMethods::ClassMethods</a></li>
				
					<li><a href="../ActiveModel/AttributeMethods/ClassMethods/AttributeMethodMatcher.html">ActiveModel::AttributeMethods::ClassMethods::AttributeMethodMatcher</a></li>
				
					<li><a href="../ActiveModel/BlockValidator.html">ActiveModel::BlockValidator</a></li>
				
					<li><a href="../ActiveModel/Callbacks.html">ActiveModel::Callbacks</a></li>
				
					<li><a href="../ActiveModel/Conversion.html">ActiveModel::Conversion</a></li>
				
					<li><a href="../ActiveModel/DeprecatedErrorMethods.html">ActiveModel::DeprecatedErrorMethods</a></li>
				
					<li><a href="../ActiveModel/Dirty.html">ActiveModel::Dirty</a></li>
				
					<li><a href="../ActiveModel/EachValidator.html">ActiveModel::EachValidator</a></li>
				
					<li><a href="../ActiveModel/Errors.html">ActiveModel::Errors</a></li>
				
					<li><a href="../ActiveModel/Lint.html">ActiveModel::Lint</a></li>
				
					<li><a href="../ActiveModel/Lint/Tests.html">ActiveModel::Lint::Tests</a></li>
				
					<li><a href="../ActiveModel/MissingAttributeError.html">ActiveModel::MissingAttributeError</a></li>
				
					<li><a href="../ActiveModel/Name.html">ActiveModel::Name</a></li>
				
					<li><a href="../ActiveModel/Naming.html">ActiveModel::Naming</a></li>
				
					<li><a href="../ActiveModel/Observer.html">ActiveModel::Observer</a></li>
				
					<li><a href="../ActiveModel/Observing.html">ActiveModel::Observing</a></li>
				
					<li><a href="../ActiveModel/Observing/ClassMethods.html">ActiveModel::Observing::ClassMethods</a></li>
				
					<li><a href="../ActiveModel/Serialization.html">ActiveModel::Serialization</a></li>
				
					<li><a href="../ActiveModel/Serializers.html">ActiveModel::Serializers</a></li>
				
					<li><a href="../ActiveModel/Serializers/JSON.html">ActiveModel::Serializers::JSON</a></li>
				
					<li><a href="../ActiveModel/Serializers/Xml.html">ActiveModel::Serializers::Xml</a></li>
				
					<li><a href="../ActiveModel/Translation.html">ActiveModel::Translation</a></li>
				
					<li><a href="../ActiveModel/Validations.html">ActiveModel::Validations</a></li>
				
					<li><a href="../ActiveModel/Validations/AcceptanceValidator.html">ActiveModel::Validations::AcceptanceValidator</a></li>
				
					<li><a href="../ActiveModel/Validations/ClassMethods.html">ActiveModel::Validations::ClassMethods</a></li>
				
					<li><a href="../ActiveModel/Validations/ConfirmationValidator.html">ActiveModel::Validations::ConfirmationValidator</a></li>
				
					<li><a href="../ActiveModel/Validations/ExclusionValidator.html">ActiveModel::Validations::ExclusionValidator</a></li>
				
					<li><a href="../ActiveModel/Validations/FormatValidator.html">ActiveModel::Validations::FormatValidator</a></li>
				
					<li><a href="../ActiveModel/Validations/HelperMethods.html">ActiveModel::Validations::HelperMethods</a></li>
				
					<li><a href="../ActiveModel/Validations/InclusionValidator.html">ActiveModel::Validations::InclusionValidator</a></li>
				
					<li><a href="../ActiveModel/Validations/LengthValidator.html">ActiveModel::Validations::LengthValidator</a></li>
				
					<li><a href="../ActiveModel/Validations/NumericalityValidator.html">ActiveModel::Validations::NumericalityValidator</a></li>
				
					<li><a href="../ActiveModel/Validations/PresenceValidator.html">ActiveModel::Validations::PresenceValidator</a></li>
				
					<li><a href="../ActiveModel/Validator.html">ActiveModel::Validator</a></li>
				
					<li><a href="../ActiveResource/BadRequest.html">ActiveResource::BadRequest</a></li>
				
					<li><a href="../ActiveResource/Base.html">ActiveResource::Base</a></li>
				
					<li><a href="../ActiveResource/ClientError.html">ActiveResource::ClientError</a></li>
				
					<li><a href="../ActiveResource/Connection.html">ActiveResource::Connection</a></li>
				
					<li><a href="../ActiveResource/CustomMethods.html">ActiveResource::CustomMethods</a></li>
				
					<li><a href="../ActiveResource/CustomMethods/ClassMethods.html">ActiveResource::CustomMethods::ClassMethods</a></li>
				
					<li><a href="../ActiveResource/CustomMethods/InstanceMethods.html">ActiveResource::CustomMethods::InstanceMethods</a></li>
				
					<li><a href="../ActiveResource/Errors.html">ActiveResource::Errors</a></li>
				
					<li><a href="../ActiveResource/ForbiddenAccess.html">ActiveResource::ForbiddenAccess</a></li>
				
					<li><a href="../ActiveResource/Formats.html">ActiveResource::Formats</a></li>
				
					<li><a href="../ActiveResource/Formats/JsonFormat.html">ActiveResource::Formats::JsonFormat</a></li>
				
					<li><a href="../ActiveResource/Formats/XmlFormat.html">ActiveResource::Formats::XmlFormat</a></li>
				
					<li><a href="../ActiveResource/HttpMock.html">ActiveResource::HttpMock</a></li>
				
					<li><a href="../ActiveResource/InvalidRequestError.html">ActiveResource::InvalidRequestError</a></li>
				
					<li><a href="../ActiveResource/Observing.html">ActiveResource::Observing</a></li>
				
					<li><a href="../ActiveResource/Railtie.html">ActiveResource::Railtie</a></li>
				
					<li><a href="../ActiveResource/Railties.html">ActiveResource::Railties</a></li>
				
					<li><a href="../ActiveResource/Railties/LogSubscriber.html">ActiveResource::Railties::LogSubscriber</a></li>
				
					<li><a href="../ActiveResource/Request.html">ActiveResource::Request</a></li>
				
					<li><a href="../ActiveResource/ResourceConflict.html">ActiveResource::ResourceConflict</a></li>
				
					<li><a href="../ActiveResource/ResourceGone.html">ActiveResource::ResourceGone</a></li>
				
					<li><a href="../ActiveResource/ResourceNotFound.html">ActiveResource::ResourceNotFound</a></li>
				
					<li><a href="../ActiveResource/Response.html">ActiveResource::Response</a></li>
				
					<li><a href="../ActiveResource/SSLError.html">ActiveResource::SSLError</a></li>
				
					<li><a href="../ActiveResource/ServerError.html">ActiveResource::ServerError</a></li>
				
					<li><a href="../ActiveResource/TimeoutError.html">ActiveResource::TimeoutError</a></li>
				
					<li><a href="../ActiveResource/UnauthorizedAccess.html">ActiveResource::UnauthorizedAccess</a></li>
				
					<li><a href="../ActiveResource/Validations.html">ActiveResource::Validations</a></li>
				
					<li><a href="../HTML/FullSanitizer.html">HTML::FullSanitizer</a></li>
				
					<li><a href="../HTML/LinkSanitizer.html">HTML::LinkSanitizer</a></li>
				
					<li><a href="../HTML/Sanitizer.html">HTML::Sanitizer</a></li>
				
					<li><a href="../HTML/Selector.html">HTML::Selector</a></li>
				
					<li><a href="../HTML/WhiteListSanitizer.html">HTML::WhiteListSanitizer</a></li>
				
					<li><a href="../Test.html">Test</a></li>
				
					<li><a href="../Test/Unit.html">Test::Unit</a></li>
				
					<li><a href="../Test/Unit/Collector.html">Test::Unit::Collector</a></li>
				
					<li><a href="../Test/Unit/Collector/ObjectSpace.html">Test::Unit::Collector::ObjectSpace</a></li>
				
					<li><a href="../ActionMailer/Base.html">ActionMailer::Base</a></li>
				
					<li><a href="../ActionMailer/Base/DeprecatedUrlOptions.html">ActionMailer::Base::DeprecatedUrlOptions</a></li>
				
					<li><a href="../Logger/Formatter.html">Logger::Formatter</a></li>
				
					<li><a href="../Logger/SimpleFormatter.html">Logger::SimpleFormatter</a></li>
				
					<li><a href="../ERB.html">ERB</a></li>
				
					<li><a href="../ERB/Util.html">ERB::Util</a></li>
				
					<li><a href="../Fixtures.html">Fixtures</a></li>
				
					<li><a href="../I18n.html">I18n</a></li>
				
					<li><a href="../I18n/Railtie.html">I18n::Railtie</a></li>
				
					<li><a href="../LoadError.html">LoadError</a></li>
				
					<li><a href="../LoadError.html">LoadError</a></li>
				
					<li><a href="../Benchmark.html">Benchmark</a></li>
				
					<li><a href="../BigDecimal.html">BigDecimal</a></li>
				
					<li><a href="../DateTime.html">DateTime</a></li>
				
					<li><a href="../Enumerable.html">Enumerable</a></li>
				
					<li><a href="../File.html">File</a></li>
				
					<li><a href="../Fixnum.html">Fixnum</a></li>
				
					<li><a href="../Float.html">Float</a></li>
				
					<li><a href="../Integer.html">Integer</a></li>
				
					<li><a href="../Kernel.html">Kernel</a></li>
				
					<li><a href="../NameError.html">NameError</a></li>
				
					<li><a href="../Object.html">Object</a></li>
				
					<li><a href="../Process.html">Process</a></li>
				
					<li><a href="../Rails.html">Rails</a></li>
				
					<li><a href="../Time.html">Time</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">ActiveRecord::Base</h1>

		<div id="description">
			<p>
Active Record objects don&#8217;t specify their attributes directly, but
rather infer them from the table definition with which they&#8217;re
linked. Adding, removing, and changing attributes and their type is done
directly in the database. Any change is instantly reflected in the Active
Record objects. The mapping that binds a given Active Record class to a
certain database table will happen automatically in most common cases, but
can be overwritten for the uncommon ones.
</p>
<p>
See the mapping rules in <a
href="Base.html#method-c-table_name">table_name</a> and the full example in
<a href="../files/README.html">files/README.html</a> for more insight.
</p>
<h2>Creation</h2>
<p>
Active Records accept constructor parameters either in a hash or as a
block. The hash method is especially useful when you&#8217;re receiving the
data from somewhere else, like an HTTP request. It works like this:
</p>
<pre>
  user = User.new(:name =&gt; &quot;David&quot;, :occupation =&gt; &quot;Code Artist&quot;)
  user.name # =&gt; &quot;David&quot;
</pre>
<p>
You can also use block initialization:
</p>
<pre>
  user = User.new do |u|
    u.name = &quot;David&quot;
    u.occupation = &quot;Code Artist&quot;
  end
</pre>
<p>
And of course you can just create a bare object and specify the attributes
after the fact:
</p>
<pre>
  user = User.new
  user.name = &quot;David&quot;
  user.occupation = &quot;Code Artist&quot;
</pre>
<h2>Conditions</h2>
<p>
Conditions can either be specified as a string, array, or hash representing
the WHERE-part of an SQL statement. The array form is to be used when the
condition input is tainted and requires sanitization. The string form can
be used for statements that don&#8217;t involve tainted data. The hash form
works much like the array form, except only equality and range is possible.
Examples:
</p>
<pre>
  class User &lt; ActiveRecord::Base
    def self.authenticate_unsafely(user_name, password)
      where(&quot;user_name = '#{user_name}' AND password = '#{password}'&quot;).first
    end

    def self.authenticate_safely(user_name, password)
      where(&quot;user_name = ? AND password = ?&quot;, user_name, password).first
    end

    def self.authenticate_safely_simply(user_name, password)
      where(:user_name =&gt; user_name, :password =&gt; password).first
    end
  end
</pre>
<p>
The <tt>authenticate_unsafely</tt> method inserts the parameters directly
into the query and is thus susceptible to SQL-injection attacks if the
<tt>user_name</tt> and <tt>password</tt> parameters come directly from an
HTTP request. The <tt>authenticate_safely</tt>  and
<tt>authenticate_safely_simply</tt> both will sanitize the
<tt>user_name</tt> and <tt>password</tt> before inserting them in the
query, which will ensure that an attacker can&#8217;t escape the query and
fake the login (or worse).
</p>
<p>
When using multiple parameters in the conditions, it can easily become hard
to read exactly what the fourth or fifth question mark is supposed to
represent. In those cases, you can resort to named bind variables instead.
That&#8217;s done by replacing the question marks with symbols and
supplying a hash with values for the matching symbol keys:
</p>
<pre>
  Company.where(
    &quot;id = :id AND name = :name AND division = :division AND created_at &gt; :accounting_date&quot;,
    { :id =&gt; 3, :name =&gt; &quot;37signals&quot;, :division =&gt; &quot;First&quot;, :accounting_date =&gt; '2005-01-01' }
  ).first
</pre>
<p>
Similarly, a simple hash without a statement will generate conditions based
on equality with the SQL AND operator. For instance:
</p>
<pre>
  Student.where(:first_name =&gt; &quot;Harvey&quot;, :status =&gt; 1)
  Student.where(params[:student])
</pre>
<p>
A range may be used in the hash to use the SQL BETWEEN operator:
</p>
<pre>
  Student.where(:grade =&gt; 9..12)
</pre>
<p>
An array may be used in the hash to use the SQL IN operator:
</p>
<pre>
  Student.where(:grade =&gt; [9,11,12])
</pre>
<p>
When joining tables, nested hashes or keys written in the form
&#8216;table_name.column_name&#8217; can be used to qualify the table name
of a particular condition. For instance:
</p>
<pre>
  Student.joins(:schools).where(:schools =&gt; { :type =&gt; 'public' })
  Student.joins(:schools).where('schools.type' =&gt; 'public' )
</pre>
<h2>Overwriting default accessors</h2>
<p>
All column values are automatically available through basic accessors on
the Active Record object, but sometimes you want to specialize this
behavior. This can be done by overwriting the default accessors (using the
same name as the attribute) and calling <tt>read_attribute(attr_name)</tt>
and <tt>write_attribute(attr_name, value)</tt> to actually change things.
Example:
</p>
<pre>
  class Song &lt; ActiveRecord::Base
    # Uses an integer of seconds to hold the length of the song

    def length=(minutes)
      write_attribute(:length, minutes.to_i * 60)
    end

    def length
      read_attribute(:length) / 60
    end
  end
</pre>
<p>
You can alternatively use <tt>self[:attribute]=(value)</tt> and
<tt>self[:attribute]</tt> instead of <tt>write_attribute(:attribute,
value)</tt> and <tt>read_attribute(:attribute)</tt> as a shorter form.
</p>
<h2>Attribute query methods</h2>
<p>
In addition to the basic accessors, query methods are also automatically
available on the Active Record object. Query methods allow you to test
whether an attribute value is present.
</p>
<p>
For example, an Active Record User with the <tt>name</tt> attribute has a
<tt>name?</tt> method that you can call to determine whether the user has a
name:
</p>
<pre>
  user = User.new(:name =&gt; &quot;David&quot;)
  user.name? # =&gt; true

  anonymous = User.new(:name =&gt; &quot;&quot;)
  anonymous.name? # =&gt; false
</pre>
<h2>Accessing attributes before they have been typecasted</h2>
<p>
Sometimes you want to be able to read the raw attribute data without having
the column-determined typecast run its course first. That can be done by
using the <tt>&lt;attribute&gt;_before_type_cast</tt> accessors that all
attributes have. For example, if your Account model has a <tt>balance</tt>
attribute, you can call <tt>account.balance_before_type_cast</tt> or
<tt>account.id_before_type_cast</tt>.
</p>
<p>
This is especially useful in validation situations where the user might
supply a string for an integer field and you want to display the original
string back in an error message. Accessing the attribute normally would
typecast the string to 0, which isn&#8217;t what you want.
</p>
<h2>Dynamic attribute-based finders</h2>
<p>
Dynamic attribute-based finders are a cleaner way of getting (and/or
creating) objects by simple queries without turning to SQL. They work by
appending the name of an attribute to <tt>find_by_</tt>,
<tt>find_last_by_</tt>, or <tt>find_all_by_</tt>, so you get finders like
<tt>Person.find_by_user_name</tt>, <tt>Person.find_all_by_last_name</tt>,
and <tt>Payment.find_by_transaction_id</tt>. So instead of writing
<tt>Person.where(:user_name =&gt; user_name).first</tt>, you just do
<tt>Person.find_by_user_name(user_name)</tt>. And instead of writing
<tt>Person.where(:last_name =&gt; last_name).all</tt>, you just do
<tt>Person.find_all_by_last_name(last_name)</tt>.
</p>
<p>
It&#8217;s also possible to use multiple attributes in the same find by
separating them with &#8220;<em>and</em>&#8220;, so you get finders like
<tt>Person.find_by_user_name_and_password</tt> or even
<tt>Payment.find_by_purchaser_and_state_and_country</tt>. So instead of
writing <tt>Person.where(:user_name =&gt; user_name, :password =&gt;
password).first</tt>, you just do
<tt>Person.find_by_user_name_and_password(user_name, password)</tt>.
</p>
<p>
It&#8217;s even possible to call these dynamic finder methods on relations
and named scopes. For example :
</p>
<pre>
  Payment.order(&quot;created_on&quot;).find_all_by_amount(50)
  Payment.pending.find_last_by_amount(100)
</pre>
<p>
The same dynamic finder style can be used to create the object if it
doesn&#8217;t already exist. This dynamic finder is called with
<tt>find_or_create_by_</tt> and will return the object if it already exists
and otherwise creates it, then returns it. Protected attributes won&#8217;t
be set unless they are given in a block. For example:
</p>
<pre>
  # No 'Summer' tag exists
  Tag.find_or_create_by_name(&quot;Summer&quot;) # equal to Tag.create(:name =&gt; &quot;Summer&quot;)

  # Now the 'Summer' tag does exist
  Tag.find_or_create_by_name(&quot;Summer&quot;) # equal to Tag.find_by_name(&quot;Summer&quot;)

  # Now 'Bob' exist and is an 'admin'
  User.find_or_create_by_name('Bob', :age =&gt; 40) { |u| u.admin = true }
</pre>
<p>
Use the <tt>find_or_initialize_by_</tt> finder if you want to return a new
record without saving it first. Protected attributes won&#8217;t be set
unless they are given in a block. For example:
</p>
<pre>
  # No 'Winter' tag exists
  winter = Tag.find_or_initialize_by_name(&quot;Winter&quot;)
  winter.new_record? # true
</pre>
<p>
To find by a subset of the attributes to be used for instantiating a new
object, pass a hash instead of a list of parameters. For example:
</p>
<pre>
  Tag.find_or_create_by_name(:name =&gt; &quot;rails&quot;, :creator =&gt; current_user)
</pre>
<p>
That will either find an existing tag named &#8220;rails&#8221;, or create
a new one while setting the user that created it.
</p>
<h2>Saving arrays, hashes, and other non-mappable objects in text columns</h2>
<p>
Active Record can serialize any object in text columns using YAML. To do
so, you must specify this with a call to the class method
<tt>serialize</tt>. This makes it possible to store arrays, hashes, and
other non-mappable objects without doing any additional work. Example:
</p>
<pre>
  class User &lt; ActiveRecord::Base
    serialize :preferences
  end

  user = User.create(:preferences =&gt; { &quot;background&quot; =&gt; &quot;black&quot;, &quot;display&quot; =&gt; large })
  User.find(user.id).preferences # =&gt; { &quot;background&quot; =&gt; &quot;black&quot;, &quot;display&quot; =&gt; large }
</pre>
<p>
You can also specify a class option as the second parameter that&#8217;ll
raise an exception if a serialized object is retrieved as a descendant of a
class not in the hierarchy. Example:
</p>
<pre>
  class User &lt; ActiveRecord::Base
    serialize :preferences, Hash
  end

  user = User.create(:preferences =&gt; %w( one two three ))
  User.find(user.id).preferences    # raises SerializationTypeMismatch
</pre>
<h2>Single table inheritance</h2>
<p>
Active Record allows inheritance by storing the name of the class in a
column that by default is named &#8220;type&#8221; (can be changed by
overwriting <tt>Base.inheritance_column</tt>). This means that an
inheritance looking like this:
</p>
<pre>
  class Company &lt; ActiveRecord::Base; end
  class Firm &lt; Company; end
  class Client &lt; Company; end
  class PriorityClient &lt; Client; end
</pre>
<p>
When you do <tt>Firm.create(:name =&gt; &quot;37signals&quot;)</tt>, this
record will be saved in the companies table with type = &#8220;Firm&#8221;.
You can then fetch this row again using <tt>Company.where(:name =&gt;
'37signals').first</tt> and it will return a Firm object.
</p>
<p>
If you don&#8217;t have a type column defined in your table, single-table
inheritance won&#8217;t be triggered. In that case, it&#8217;ll work just
like normal subclasses with no special magic for differentiating between
them or reloading the right type with find.
</p>
<p>
Note, all the attributes for all the cases are kept in the same table. Read
more: <a
href="http://www.martinfowler.com/eaaCatalog/singleTableInheritance.html">www.martinfowler.com/eaaCatalog/singleTableInheritance.html</a>
</p>
<h2>Connection to multiple databases in different models</h2>
<p>
Connections are usually created through
ActiveRecord::Base.establish_connection and retrieved by <a
href="Base.html#method-i-connection">ActiveRecord::Base.connection</a>. All
classes inheriting from <a href="Base.html">ActiveRecord::Base</a> will use
this connection. But you can also set a class-specific connection. For
example, if Course is an <a href="Base.html">ActiveRecord::Base</a>, but
resides in a different database, you can just say
<tt>Course.establish_connection</tt> and Course and all of its subclasses
will use this connection instead.
</p>
<p>
This feature is implemented by keeping a connection pool in <a
href="Base.html">ActiveRecord::Base</a> that is a Hash indexed by the
class. If a connection is requested, the <a
href="Base.html#method-c-retrieve_connection">retrieve_connection</a>
method will go up the class-hierarchy until a connection is found in the
connection pool.
</p>
<h2>Exceptions</h2>
<ul>
<li><p>
<a href="ActiveRecordError.html">ActiveRecordError</a> - Generic error
class and superclass of all other errors raised by Active Record.
</p>
</li>
<li><p>
<a href="AdapterNotSpecified.html">AdapterNotSpecified</a> - The
configuration hash used in <tt><a
href="Base.html#method-c-establish_connection">establish_connection</a></tt>
didn&#8217;t include an <tt>:adapter</tt> key.
</p>
</li>
<li><p>
<a href="AdapterNotFound.html">AdapterNotFound</a> - The <tt>:adapter</tt>
key used in <tt><a
href="Base.html#method-c-establish_connection">establish_connection</a></tt>
specified a non-existent adapter (or a bad spelling of an existing one).
</p>
</li>
<li><p>
<a href="AssociationTypeMismatch.html">AssociationTypeMismatch</a> - The
object assigned to the association wasn&#8217;t of the type specified in
the association definition.
</p>
</li>
<li><p>
<a href="SerializationTypeMismatch.html">SerializationTypeMismatch</a> -
The serialized object wasn&#8217;t of the class specified as the second
parameter.
</p>
</li>
<li><p>
ConnectionNotEstablished+ - No connection has been established. Use <tt><a
href="Base.html#method-c-establish_connection">establish_connection</a></tt>
before querying.
</p>
</li>
<li><p>
<a href="RecordNotFound.html">RecordNotFound</a> - No record responded to
the <tt>find</tt> method. Either the row with the given ID doesn&#8217;t
exist or the row didn&#8217;t meet the additional restrictions. Some
<tt>find</tt> calls do not raise this exception to signal nothing was
found, please check its documentation for further details.
</p>
</li>
<li><p>
<a href="StatementInvalid.html">StatementInvalid</a> - The database server
rejected the SQL statement. The precise error is added in the message.
</p>
</li>
<li><p>
<a
href="MultiparameterAssignmentErrors.html">MultiparameterAssignmentErrors</a>
- Collection of errors that occurred during a mass assignment using the
<tt>attributes=</tt> method. The <tt>errors</tt> property of this exception
contains an array of <a
href="AttributeAssignmentError.html">AttributeAssignmentError</a> objects
that should be inspected to determine which attributes triggered the
errors.
</p>
</li>
<li><p>
<a href="AttributeAssignmentError.html">AttributeAssignmentError</a> - An
error occurred while doing a mass assignment through the
<tt>attributes=</tt> method. You can inspect the <tt>attribute</tt>
property of the exception object to determine which attribute triggered the
error.
</p>
</li>
</ul>
<p>
<b>Note</b>: The attributes listed are class-level attributes (accessible
from both the class and instance level). So it&#8217;s possible to assign a
logger to the class through <tt>Base.logger=</tt> which will then be used
by all instances in the current object space.
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="abstract-class-attribute-method" class="method-detail">
				<a name="abstract_class"></a>
				
				<a name="abstract_class="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">abstract_class</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				<p>
Set this to true if this is an abstract class (see <tt><a
href="Base.html#abstract_class">abstract_class</a>?</tt>).
</p>
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="--method" class="method-detail ">
				<a name="method-c-%3D%3D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">===</span><span
						class="method-args">(object)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Overwrite the default class equality method to provide support for
association proxies.
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 892</span>
892:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">===</span>(<span class="ruby-identifier">object</span>)
893:         <span class="ruby-identifier">object</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword kw">self</span>)
894:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="abstract-class--method" class="method-detail ">
				<a name="method-c-abstract_class%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">abstract_class?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns whether this class is a base AR class.  If A is a base class and B
descends from A, then B.base_class will return B.
</p>
					

					
					<div class="method-source-code"
						id="abstract-class--source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 908</span>
908:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">abstract_class?</span>
909:         <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@abstract_class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@abstract_class</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
910:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="arel-engine-method" class="method-detail ">
				<a name="method-c-arel_engine"></a>

				<div class="method-heading">
				
					<span class="method-name">arel_engine</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="arel-engine-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 935</span>
935:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arel_engine</span>
936:         <span class="ruby-ivar">@arel_engine</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">begin</span>
937:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
938:             <span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span>.<span class="ruby-identifier">engine</span>
939:           <span class="ruby-keyword kw">else</span>
940:             <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">connection_pools</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">Sql</span><span class="ruby-operator">::</span><span class="ruby-constant">Engine</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">arel_engine</span>
941:           <span class="ruby-keyword kw">end</span>
942:         <span class="ruby-keyword kw">end</span>
943:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="arel-table-method" class="method-detail ">
				<a name="method-c-arel_table"></a>

				<div class="method-heading">
				
					<span class="method-name">arel_table</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="arel-table-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 931</span>
931:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arel_table</span>
932:         <span class="ruby-ivar">@arel_table</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-value">:engine</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">arel_engine</span>)
933:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attr-accessible-method" class="method-detail ">
				<a name="method-c-attr_accessible"></a>

				<div class="method-heading">
				
					<span class="method-name">attr_accessible</span><span
						class="method-args">(*attributes)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Specifies a white list of model attributes that can be set via
mass-assignment, such as <tt>new(attributes)</tt>,
<tt>update_attributes(attributes)</tt>, or <tt>attributes=(attributes)</tt>
</p>
<p>
This is the opposite of the <tt><a
href="Base.html#method-c-attr_protected">attr_protected</a></tt> macro:
Mass-assignment will only set attributes in this list, to assign to the
rest of attributes you can use direct writer methods. This is meant to
protect sensitive attributes from being overwritten by malicious users
tampering with URLs or forms. If you&#8217;d rather start from an all-open
default and restrict attributes as needed, have a look at <tt><a
href="Base.html#method-c-attr_protected">attr_protected</a></tt>.
</p>
<pre>
  class Customer &lt; ActiveRecord::Base
    attr_accessible :name, :nickname
  end

  customer = Customer.new(:name =&gt; &quot;David&quot;, :nickname =&gt; &quot;Dave&quot;, :credit_rating =&gt; &quot;Excellent&quot;)
  customer.credit_rating # =&gt; nil
  customer.attributes = { :name =&gt; &quot;Jolly fellow&quot;, :credit_rating =&gt; &quot;Superb&quot; }
  customer.credit_rating # =&gt; nil

  customer.credit_rating = &quot;Average&quot;
  customer.credit_rating # =&gt; &quot;Average&quot;
</pre>
<p>
If the access logic of your application is richer you can use
<tt>Hash#except</tt> or <tt>Hash#slice</tt> to sanitize the hash of
parameters before they are passed to Active Record.
</p>
<p>
For example, it could be the case that the list of accessible attributes
for a given model depends on the role of the user:
</p>
<pre>
  # Assumes plan_id is accessible because it depends on the role.
  params[:account] = params[:account].except(:plan_id) unless admin?
  @account.update_attributes(params[:account])
</pre>
<p>
Note that <tt><a
href="Base.html#method-c-attr_accessible">attr_accessible</a></tt> is still
applied to the received hash. Thus, with this technique you can at most
<em>narrow</em> the list of accessible attributes for a particular
mass-assignment call.
</p>
					

					
					<div class="method-source-code"
						id="attr-accessible-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 570</span>
570:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_accessible</span>(*<span class="ruby-identifier">attributes</span>)
571:         <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_accessible</span>, <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_s</span>)) <span class="ruby-operator">+</span> (<span class="ruby-identifier">accessible_attributes</span> <span class="ruby-operator">||</span> []))
572:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attr-protected-method" class="method-detail ">
				<a name="method-c-attr_protected"></a>

				<div class="method-heading">
				
					<span class="method-name">attr_protected</span><span
						class="method-args">(*attributes)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Attributes named in this macro are protected from mass-assignment, such as
<tt>new(attributes)</tt>, <tt>update_attributes(attributes)</tt>, or
<tt>attributes=(attributes)</tt>.
</p>
<p>
Mass-assignment to these attributes will simply be ignored, to assign to
them you can use direct writer methods. This is meant to protect sensitive
attributes from being overwritten by malicious users tampering with URLs or
forms.
</p>
<pre>
  class Customer &lt; ActiveRecord::Base
    attr_protected :credit_rating
  end

  customer = Customer.new(&quot;name&quot; =&gt; David, &quot;credit_rating&quot; =&gt; &quot;Excellent&quot;)
  customer.credit_rating # =&gt; nil
  customer.attributes = { &quot;description&quot; =&gt; &quot;Jolly fellow&quot;, &quot;credit_rating&quot; =&gt; &quot;Superb&quot; }
  customer.credit_rating # =&gt; nil

  customer.credit_rating = &quot;Average&quot;
  customer.credit_rating # =&gt; &quot;Average&quot;
</pre>
<p>
To start from an all-closed default and enable attributes as needed, have a
look at <tt><a
href="Base.html#method-c-attr_accessible">attr_accessible</a></tt>.
</p>
<p>
If the access logic of your application is richer you can use
<tt>Hash#except</tt> or <tt>Hash#slice</tt> to sanitize the hash of
parameters before they are passed to Active Record.
</p>
<p>
For example, it could be the case that the list of protected attributes for
a given model depends on the role of the user:
</p>
<pre>
  # Assumes plan_id is not protected because it depends on the role.
  params[:account] = params[:account].except(:plan_id) unless admin?
  @account.update_attributes(params[:account])
</pre>
<p>
Note that <tt><a
href="Base.html#method-c-attr_protected">attr_protected</a></tt> is still
applied to the received hash. Thus, with this technique you can at most
<em>extend</em> the list of protected attributes for a particular
mass-assignment call.
</p>
					

					
					<div class="method-source-code"
						id="attr-protected-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 522</span>
522:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_protected</span>(*<span class="ruby-identifier">attributes</span>)
523:         <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_protected</span>, <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">to_s</span>}) <span class="ruby-operator">+</span> (<span class="ruby-identifier">protected_attributes</span> <span class="ruby-operator">||</span> []))
524:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attr-readonly-method" class="method-detail ">
				<a name="method-c-attr_readonly"></a>

				<div class="method-heading">
				
					<span class="method-name">attr_readonly</span><span
						class="method-args">(*attributes)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Attributes listed as readonly can be set for a new record, but will be
ignored in database updates afterwards.
</p>
					

					
					<div class="method-source-code"
						id="attr-readonly-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 580</span>
580:        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_readonly</span>(*<span class="ruby-identifier">attributes</span>)
581:          <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_readonly</span>, <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_s</span>)) <span class="ruby-operator">+</span> (<span class="ruby-identifier">readonly_attributes</span> <span class="ruby-operator">||</span> []))
582:        <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attribute-method--method" class="method-detail ">
				<a name="method-c-attribute_method%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">attribute_method?</span><span
						class="method-args">(attribute)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="attribute-method--source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 830</span>
830:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute_method?</span>(<span class="ruby-identifier">attribute</span>)
831:         <span class="ruby-keyword kw">super</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">table_exists?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">column_names</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/=$/</span>, <span class="ruby-value str">''</span>)))
832:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="base-class-method" class="method-detail ">
				<a name="method-c-base_class"></a>

				<div class="method-heading">
				
					<span class="method-name">base_class</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the base AR subclass that this class descends from. If A extends
AR::Base, A.base_class will return A. If B descends from A through some
arbitrarily deep hierarchy, B.base_class will return A.
</p>
					

					
					<div class="method-source-code"
						id="base-class-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 899</span>
899:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">base_class</span>
900:         <span class="ruby-identifier">class_of_active_record_descendant</span>(<span class="ruby-keyword kw">self</span>)
901:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="colorize-logging-method" class="method-detail ">
				<a name="method-c-colorize_logging"></a>

				<div class="method-heading">
				
					<span class="method-name">colorize_logging</span><span
						class="method-args">(*args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="colorize-logging-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 396</span>
396:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">colorize_logging</span>(*<span class="ruby-identifier">args</span>)
397:         <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;ActiveRecord::Base.colorize_logging and &quot;</span> <span class="ruby-operator">&lt;&lt;</span>
398:           <span class="ruby-value str">&quot;config.active_record.colorize_logging are deprecated. Please use &quot;</span> <span class="ruby-operator">&lt;&lt;</span>
399:           <span class="ruby-value str">&quot;Rails::LogSubscriber.colorize_logging or config.colorize_logging instead&quot;</span>, <span class="ruby-identifier">caller</span>
400:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="column-names-method" class="method-detail ">
				<a name="method-c-column_names"></a>

				<div class="method-heading">
				
					<span class="method-name">column_names</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an array of column names as strings.
</p>
					

					
					<div class="method-source-code"
						id="column-names-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 770</span>
770:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_names</span>
771:         <span class="ruby-ivar">@column_names</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span> }
772:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="columns-method" class="method-detail ">
				<a name="method-c-columns"></a>

				<div class="method-heading">
				
					<span class="method-name">columns</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an array of column objects for the table associated with this
class.
</p>
					

					
					<div class="method-source-code"
						id="columns-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 756</span>
756:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">columns</span>
757:         <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@columns</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@columns</span>
758:           <span class="ruby-ivar">@columns</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">columns</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-node">&quot;#{name} Columns&quot;</span>)
759:           <span class="ruby-ivar">@columns</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">primary</span> = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">primary_key</span> }
760:         <span class="ruby-keyword kw">end</span>
761:         <span class="ruby-ivar">@columns</span>
762:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="columns-hash-method" class="method-detail ">
				<a name="method-c-columns_hash"></a>

				<div class="method-heading">
				
					<span class="method-name">columns_hash</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a hash of column objects for the table associated with this class.
</p>
					

					
					<div class="method-source-code"
						id="columns-hash-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 765</span>
765:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">columns_hash</span>
766:         <span class="ruby-ivar">@columns_hash</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">inject</span>({}) { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">column</span>; <span class="ruby-identifier">hash</span> }
767:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="configurations-method" class="method-detail ">
				<a name="method-c-configurations"></a>

				<div class="method-heading">
				
					<span class="method-name">configurations</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Contains the database configuration - as is typically stored in
config/database.yml - as a Hash.
</p>
<p>
For example, the following database.yml...
</p>
<pre>
  development:
    adapter: sqlite3
    database: db/development.sqlite3

  production:
    adapter: sqlite3
    database: db/production.sqlite3
</pre>
<p>
&#8230;would result in ActiveRecord::Base.configurations to look like this:
</p>
<pre>
  {
     'development' =&gt; {
        'adapter'  =&gt; 'sqlite3',
        'database' =&gt; 'db/development.sqlite3'
     },
     'production' =&gt; {
        'adapter'  =&gt; 'sqlite3',
        'database' =&gt; 'db/production.sqlite3'
     }
  }</pre>
					

					
					<div class="method-source-code"
						id="configurations-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 325</span>
325:     <span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:configurations</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="connected--method" class="method-detail ">
				<a name="method-c-connected%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">connected?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns true if <tt>ActiveRecord</tt> is connected.
</p>
					

					
					<div class="method-source-code"
						id="connected--source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 107</span>
107:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connected?</span>
108:         <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">connected?</span>(<span class="ruby-keyword kw">self</span>)
109:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="connection-method" class="method-detail ">
				<a name="method-c-connection"></a>

				<div class="method-heading">
				
					<span class="method-name">connection</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the connection currently associated with the class. This can also
be used to &#8220;borrow&#8221; the connection to do database work
unrelated to any of the specific Active Records.
</p>
					

					
					<div class="method-source-code"
						id="connection-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 94</span>
94:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connection</span>
95:         <span class="ruby-identifier">retrieve_connection</span>
96:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="connection-handler-method" class="method-detail ">
				<a name="method-c-connection_handler"></a>

				<div class="method-heading">
				
					<span class="method-name">connection_handler</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
The connection handler
</p>
					

					
					<div class="method-source-code"
						id="connection-handler-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 13</span>
13:     <span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:connection_handler</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="connection-pool-method" class="method-detail ">
				<a name="method-c-connection_pool"></a>

				<div class="method-heading">
				
					<span class="method-name">connection_pool</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="connection-pool-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 98</span>
 98:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connection_pool</span>
 99:         <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">retrieve_connection_pool</span>(<span class="ruby-keyword kw">self</span>)
100:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="content-columns-method" class="method-detail ">
				<a name="method-c-content_columns"></a>

				<div class="method-heading">
				
					<span class="method-name">content_columns</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an array of column objects where the primary id, all columns ending
in &#8220;_id&#8221; or &#8220;_count&#8221;, and columns used for single
table inheritance have been removed.
</p>
					

					
					<div class="method-source-code"
						id="content-columns-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 776</span>
776:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_columns</span>
777:         <span class="ruby-ivar">@content_columns</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">primary</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/(_id|_count)$/</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">inheritance_column</span> }
778:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="count-by-sql-method" class="method-detail ">
				<a name="method-c-count_by_sql"></a>

				<div class="method-heading">
				
					<span class="method-name">count_by_sql</span><span
						class="method-args">(sql)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the result of an SQL statement that should only include a COUNT(*)
in the SELECT part. The use of this method should be restricted to
complicated SQL queries that can&#8217;t be executed using the <a
href="Calculations.html">ActiveRecord::Calculations</a> class methods. 
Look into those before using this.
</p>
<h4>Parameters</h4>
<ul>
<li><p>
<tt>sql</tt> - An SQL statement which should return a count query from the
database, see the example below.
</p>
</li>
</ul>
<h4>Examples</h4>
<pre>
  Product.count_by_sql &quot;SELECT COUNT(*) FROM sales s, customers c WHERE s.customer_id = c.id&quot;</pre>
					

					
					<div class="method-source-code"
						id="count-by-sql-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 478</span>
478:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">count_by_sql</span>(<span class="ruby-identifier">sql</span>)
479:         <span class="ruby-identifier">sql</span> = <span class="ruby-identifier">sanitize_conditions</span>(<span class="ruby-identifier">sql</span>)
480:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">select_value</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-node">&quot;#{name} Count&quot;</span>).<span class="ruby-identifier">to_i</span>
481:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="create-method" class="method-detail ">
				<a name="method-c-create"></a>

				<div class="method-heading">
				
					<span class="method-name">create</span><span
						class="method-args">(attributes = nil, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Creates an object (or multiple objects) and saves it to the database, if
validations pass. The resulting object is returned whether the object was
saved successfully to the database or not.
</p>
<p>
The <tt>attributes</tt> parameter can be either be a Hash or an Array of
Hashes.  These Hashes describe the attributes on the objects that are to be
created.
</p>
<h4>Examples</h4>
<pre>
  # Create a single new object
  User.create(:first_name =&gt; 'Jamie')

  # Create an Array of new objects
  User.create([{ :first_name =&gt; 'Jamie' }, { :first_name =&gt; 'Jeremy' }])

  # Create a single object and pass it into a block to set other attributes.
  User.create(:first_name =&gt; 'Jamie') do |u|
    u.is_admin = false
  end

  # Creating an Array of new objects using a block, where the block is executed for each object:
  User.create([{ :first_name =&gt; 'Jamie' }, { :first_name =&gt; 'Jeremy' }]) do |u|
    u.is_admin = false
  end</pre>
					

					
					<div class="method-source-code"
						id="create-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 456</span>
456:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">block</span>)
457:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
458:           <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">attr</span>, &amp;<span class="ruby-identifier">block</span>) }
459:         <span class="ruby-keyword kw">else</span>
460:           <span class="ruby-identifier">object</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>)
461:           <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">object</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
462:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">save</span>
463:           <span class="ruby-identifier">object</span>
464:         <span class="ruby-keyword kw">end</span>
465:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="default-timezone-method" class="method-detail ">
				<a name="method-c-default_timezone"></a>

				<div class="method-heading">
				
					<span class="method-name">default_timezone</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Determines whether to use Time.local (using :local) or Time.utc (using
:utc) when pulling dates and times from the database. This is set to :local
by default.
</p>
					

					
					<div class="method-source-code"
						id="default-timezone-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 367</span>
367:     <span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:default_timezone</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="descends-from-active-record--method" class="method-detail ">
				<a name="method-c-descends_from_active_record%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">descends_from_active_record?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
True if this isn&#8217;t a concrete subclass needing a STI type condition.
</p>
					

					
					<div class="method-source-code"
						id="descends-from-active-record--source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 855</span>
855:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">descends_from_active_record?</span>
856:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">abstract_class?</span>
857:           <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">descends_from_active_record?</span>
858:         <span class="ruby-keyword kw">else</span>
859:           <span class="ruby-identifier">superclass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">columns_hash</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">inheritance_column</span>)
860:         <span class="ruby-keyword kw">end</span>
861:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="establish-connection-method" class="method-detail ">
				<a name="method-c-establish_connection"></a>

				<div class="method-heading">
				
					<span class="method-name">establish_connection</span><span
						class="method-args">(spec = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Establishes the connection to the database. Accepts a hash as input where
the <tt>:adapter</tt> key must be specified with the name of a database
adapter (in lower-case) example for regular databases (MySQL, Postgresql,
etc):
</p>
<pre>
  ActiveRecord::Base.establish_connection(
    :adapter  =&gt; &quot;mysql&quot;,
    :host     =&gt; &quot;localhost&quot;,
    :username =&gt; &quot;myuser&quot;,
    :password =&gt; &quot;mypass&quot;,
    :database =&gt; &quot;somedatabase&quot;
  )
</pre>
<p>
Example for SQLite database:
</p>
<pre>
  ActiveRecord::Base.establish_connection(
    :adapter =&gt; &quot;sqlite&quot;,
    :database  =&gt; &quot;path/to/dbfile&quot;
  )
</pre>
<p>
Also accepts keys as strings (for parsing from YAML for example):
</p>
<pre>
  ActiveRecord::Base.establish_connection(
    &quot;adapter&quot; =&gt; &quot;sqlite&quot;,
    &quot;database&quot;  =&gt; &quot;path/to/dbfile&quot;
  )
</pre>
<p>
The exceptions <a href="AdapterNotSpecified.html">AdapterNotSpecified</a>,
<a href="AdapterNotFound.html">AdapterNotFound</a> and ArgumentError may be
returned on an error.
</p>
					

					
					<div class="method-source-code"
						id="establish-connection-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 51</span>
51:     <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">spec</span> = <span class="ruby-keyword kw">nil</span>)
52:       <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">spec</span>
53:         <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>
54:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>)
55:           <span class="ruby-identifier">establish_connection</span>(<span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>)
56:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">ConnectionSpecification</span>
57:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">spec</span>)
58:         <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-constant">String</span>
59:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">configurations</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_s</span>]
60:             <span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">configuration</span>)
61:           <span class="ruby-keyword kw">else</span>
62:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span>, <span class="ruby-node">&quot;#{spec} database is not configured&quot;</span>
63:           <span class="ruby-keyword kw">end</span>
64:         <span class="ruby-keyword kw">else</span>
65:           <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">symbolize_keys</span>
66:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:adapter</span>) <span class="ruby-keyword kw">then</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span>, <span class="ruby-value str">&quot;database configuration does not specify adapter&quot;</span> <span class="ruby-keyword kw">end</span>
67: 
68:           <span class="ruby-keyword kw">begin</span>
69:             <span class="ruby-identifier">require</span> <span class="ruby-value str">'rubygems'</span>
70:             <span class="ruby-identifier">gem</span> <span class="ruby-node">&quot;activerecord-#{spec[:adapter]}-adapter&quot;</span>
71:             <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;active_record/connection_adapters/#{spec[:adapter]}_adapter&quot;</span>
72:           <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
73:             <span class="ruby-keyword kw">begin</span>
74:               <span class="ruby-identifier">require</span> <span class="ruby-node">&quot;active_record/connection_adapters/#{spec[:adapter]}_adapter&quot;</span>
75:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">LoadError</span>
76:               <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Please install the #{spec[:adapter]} adapter: `gem install activerecord-#{spec[:adapter]}-adapter` (#{$!})&quot;</span>
77:             <span class="ruby-keyword kw">end</span>
78:           <span class="ruby-keyword kw">end</span>
79: 
80:           <span class="ruby-identifier">adapter_method</span> = <span class="ruby-node">&quot;#{spec[:adapter]}_connection&quot;</span>
81:           <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">adapter_method</span>)
82:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotFound</span>, <span class="ruby-node">&quot;database configuration specifies nonexistent #{spec[:adapter]} adapter&quot;</span>
83:           <span class="ruby-keyword kw">end</span>
84: 
85:           <span class="ruby-identifier">remove_connection</span>
86:           <span class="ruby-identifier">establish_connection</span>(<span class="ruby-constant">ConnectionSpecification</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">adapter_method</span>))
87:       <span class="ruby-keyword kw">end</span>
88:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="find-by-sql-method" class="method-detail ">
				<a name="method-c-find_by_sql"></a>

				<div class="method-heading">
				
					<span class="method-name">find_by_sql</span><span
						class="method-args">(sql)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Executes a custom SQL query against your database and returns all the
results.  The results will be returned as an array with columns requested
encapsulated as attributes of the model you call this method from.  If you
call <tt>Product.find_by_sql</tt> then the results will be returned in a
Product object with the attributes you specified in the SQL query.
</p>
<p>
If you call a complicated SQL query which spans multiple tables the columns
specified by the SELECT will be attributes of the model, whether or not
they are columns of the corresponding table.
</p>
<p>
The <tt>sql</tt> parameter is a full SQL query as a string.  It will be
called as is, there will be no database agnostic conversions performed. 
This should be a last resort because using, for example, MySQL specific
terms will lock you to using that particular database engine or require you
to change your call if you switch engines.
</p>
<h4>Examples</h4>
<pre>
  # A simple SQL query spanning multiple tables
  Post.find_by_sql &quot;SELECT p.title, c.author FROM posts p, comments c WHERE p.id = c.post_id&quot;
  &gt; [#&lt;Post:0x36bff9c @attributes={&quot;title&quot;=&gt;&quot;Ruby Meetup&quot;, &quot;first_name&quot;=&gt;&quot;Quentin&quot;}&gt;, ...]

  # You can use the same string replacement techniques as you can with ActiveRecord#find
  Post.find_by_sql [&quot;SELECT title FROM posts WHERE author = ? AND created &gt; ?&quot;, author_id, start_date]
  &gt; [#&lt;Post:0x36bff9c @attributes={&quot;first_name&quot;=&gt;&quot;The Cheap Man Buys Twice&quot;}&gt;, ...]</pre>
					

					
					<div class="method-source-code"
						id="find-by-sql-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 430</span>
430:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_by_sql</span>(<span class="ruby-identifier">sql</span>)
431:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">select_all</span>(<span class="ruby-identifier">sanitize_sql</span>(<span class="ruby-identifier">sql</span>), <span class="ruby-node">&quot;#{name} Load&quot;</span>).<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instantiate</span>(<span class="ruby-identifier">record</span>) }
432:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="inheritance-column-method" class="method-detail ">
				<a name="method-c-inheritance_column"></a>

				<div class="method-heading">
				
					<span class="method-name">inheritance_column</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Defines the column name for use with single table inheritance &#8212; can
be set in subclasses like so: self.inheritance_column =
&#8220;type_id&#8220;
</p>
					

					
					<div class="method-source-code"
						id="inheritance-column-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 681</span>
681:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inheritance_column</span>
682:         <span class="ruby-ivar">@inheritance_column</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">&quot;type&quot;</span>.<span class="ruby-identifier">freeze</span>
683:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="inspect-method" class="method-detail ">
				<a name="method-c-inspect"></a>

				<div class="method-heading">
				
					<span class="method-name">inspect</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a string like &#8216;Post id:integer, title:string,
body:text&#8217;
</p>
					

					
					<div class="method-source-code"
						id="inspect-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 869</span>
869:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
870:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span>
871:           <span class="ruby-keyword kw">super</span>
872:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">abstract_class?</span>
873:           <span class="ruby-node">&quot;#{super}(abstract)&quot;</span>
874:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">table_exists?</span>
875:           <span class="ruby-identifier">attr_list</span> = <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{c.name}: #{c.type}&quot;</span> } * <span class="ruby-value str">', '</span>
876:           <span class="ruby-node">&quot;#{super}(#{attr_list})&quot;</span>
877:         <span class="ruby-keyword kw">else</span>
878:           <span class="ruby-node">&quot;#{super}(Table doesn't exist)&quot;</span>
879:         <span class="ruby-keyword kw">end</span>
880:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="logger-method" class="method-detail ">
				<a name="method-c-logger"></a>

				<div class="method-heading">
				
					<span class="method-name">logger</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Accepts a logger conforming to the interface of Log4r or the default Ruby
1.8+ Logger class, which is then passed on to any new database connections
made and which can be retrieved on both a class and instance level by
calling <tt>logger</tt>.
</p>
					

					
					<div class="method-source-code"
						id="logger-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 274</span>
274:     <span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:logger</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(attributes = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names). In both instances,
valid attribute keys are determined by the column names of the associated
table &#8212; hence you can&#8217;t have attributes that aren&#8217;t part
of the table columns.
</p>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1426</span>
1426:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword kw">nil</span>)
1427:         <span class="ruby-ivar">@attributes</span> = <span class="ruby-identifier">attributes_from_column_definition</span>
1428:         <span class="ruby-ivar">@attributes_cache</span> = {}
1429:         <span class="ruby-ivar">@new_record</span> = <span class="ruby-keyword kw">true</span>
1430:         <span class="ruby-ivar">@readonly</span> = <span class="ruby-keyword kw">false</span>
1431:         <span class="ruby-ivar">@destroyed</span> = <span class="ruby-keyword kw">false</span>
1432:         <span class="ruby-ivar">@marked_for_destruction</span> = <span class="ruby-keyword kw">false</span>
1433:         <span class="ruby-ivar">@previously_changed</span> = {}
1434:         <span class="ruby-ivar">@changed_attributes</span> = {}
1435: 
1436:         <span class="ruby-identifier">ensure_proper_type</span>
1437: 
1438:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">scope</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:current_scoped_methods</span>)
1439:           <span class="ruby-identifier">create_with</span> = <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">scope_for_create</span>
1440:           <span class="ruby-identifier">create_with</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">att</span>,<span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{att}=&quot;</span>, <span class="ruby-identifier">value</span>) } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">create_with</span>
1441:         <span class="ruby-keyword kw">end</span>
1442:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">attributes</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span>
1443: 
1444:         <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">yield</span> <span class="ruby-keyword kw">self</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
1445:         <span class="ruby-identifier">_run_initialize_callbacks</span>
1446:         <span class="ruby-identifier">result</span>
1447:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="pluralize-table-names-method" class="method-detail ">
				<a name="method-c-pluralize_table_names"></a>

				<div class="method-heading">
				
					<span class="method-name">pluralize_table_names</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Indicates whether table names should be the pluralized versions of the
corresponding class names. If true, the default table name for a Product
class will be <tt>products</tt>. If false, it would just be
<tt>product</tt>. See <a
href="Base.html#method-c-table_name">table_name</a> for the full rules on
table/class naming. This is true, by default.
</p>
					

					
					<div class="method-source-code"
						id="pluralize-table-names-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 360</span>
360:     <span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:pluralize_table_names</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="primary-key-prefix-type-method" class="method-detail ">
				<a name="method-c-primary_key_prefix_type"></a>

				<div class="method-heading">
				
					<span class="method-name">primary_key_prefix_type</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Accessor for the prefix type that will be prepended to every primary key
column name. The options are :<a
href="Base.html#method-c-table_name">table_name</a> and
:table_name_with_underscore. If the first is specified, the Product class
will look for &#8220;productid&#8221; instead of &#8220;id&#8221; as the
primary column. If the latter is specified, the Product class will look for
&#8220;product_id&#8220; instead of &#8220;id&#8221;. Remember that this is
a global setting for all Active Records.
</p>
					

					
					<div class="method-source-code"
						id="primary-key-prefix-type-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 334</span>
334:     <span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:primary_key_prefix_type</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="quoted-table-name-method" class="method-detail ">
				<a name="method-c-quoted_table_name"></a>

				<div class="method-heading">
				
					<span class="method-name">quoted_table_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="quoted-table-name-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 650</span>
650:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_table_name</span>
651:         <span class="ruby-ivar">@quoted_table_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_table_name</span>(<span class="ruby-identifier">table_name</span>)
652:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="readonly-attributes-method" class="method-detail ">
				<a name="method-c-readonly_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">readonly_attributes</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an array of all the attributes that have been specified as
readonly.
</p>
					

					
					<div class="method-source-code"
						id="readonly-attributes-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 585</span>
585:        <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readonly_attributes</span>
586:          <span class="ruby-identifier">read_inheritable_attribute</span>(<span class="ruby-value">:attr_readonly</span>) <span class="ruby-operator">||</span> []
587:        <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="remove-connection-method" class="method-detail ">
				<a name="method-c-remove_connection"></a>

				<div class="method-heading">
				
					<span class="method-name">remove_connection</span><span
						class="method-args">(klass = self)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="remove-connection-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 111</span>
111:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_connection</span>(<span class="ruby-identifier">klass</span> = <span class="ruby-keyword kw">self</span>)
112:         <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">remove_connection</span>(<span class="ruby-identifier">klass</span>)
113:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="reset-column-information-method" class="method-detail ">
				<a name="method-c-reset_column_information"></a>

				<div class="method-heading">
				
					<span class="method-name">reset_column_information</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Resets all the cached information about columns, which will cause them to
be reloaded on the next request.
</p>
<p>
The most common usage pattern for this method is probably in a migration,
when just after creating a table you want to populate it with some default
values, eg:
</p>
<pre>
 class CreateJobLevels &lt; ActiveRecord::Migration
   def self.up
     create_table :job_levels do |t|
       t.integer :id
       t.string :name

       t.timestamps
     end

     JobLevel.reset_column_information
     %w{assistant executive manager director}.each do |type|
       JobLevel.create(:name =&gt; type)
     end
   end

   def self.down
     drop_table :job_levels
   end
 end</pre>
					

					
					<div class="method-source-code"
						id="reset-column-information-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 820</span>
820:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_column_information</span>
821:         <span class="ruby-identifier">undefine_attribute_methods</span>
822:         <span class="ruby-ivar">@column_names</span> = <span class="ruby-ivar">@columns</span> = <span class="ruby-ivar">@columns_hash</span> = <span class="ruby-ivar">@content_columns</span> = <span class="ruby-ivar">@dynamic_methods_hash</span> = <span class="ruby-ivar">@inheritance_column</span> = <span class="ruby-keyword kw">nil</span>
823:         <span class="ruby-ivar">@arel_engine</span> = <span class="ruby-ivar">@unscoped</span> = <span class="ruby-ivar">@arel_table</span> = <span class="ruby-keyword kw">nil</span>
824:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="respond-to--method" class="method-detail ">
				<a name="method-c-respond_to%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">respond_to?</span><span
						class="method-args">(method_id, include_private = false)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="respond-to--source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 912</span>
912:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method_id</span>, <span class="ruby-identifier">include_private</span> = <span class="ruby-keyword kw">false</span>)
913:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicFinderMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method_id</span>)
914:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">all_attributes_exists?</span>(<span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)
915:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicScopeMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method_id</span>)
916:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">all_attributes_exists?</span>(<span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>)
917:         <span class="ruby-keyword kw">end</span>
918: 
919:         <span class="ruby-keyword kw">super</span>
920:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="retrieve-connection-method" class="method-detail ">
				<a name="method-c-retrieve_connection"></a>

				<div class="method-heading">
				
					<span class="method-name">retrieve_connection</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="retrieve-connection-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 102</span>
102:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">retrieve_connection</span>
103:         <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">retrieve_connection</span>(<span class="ruby-keyword kw">self</span>)
104:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="schema-format-method" class="method-detail ">
				<a name="method-c-schema_format"></a>

				<div class="method-heading">
				
					<span class="method-name">schema_format</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Specifies the format to use when dumping the database schema with
Rails&#8217; Rakefile.  If :sql, the schema is dumped as (potentially
database- specific) SQL statements.  If :ruby, the schema is dumped as an
<a href="Schema.html">ActiveRecord::Schema</a> file which can be loaded
into any database that supports migrations.  Use :ruby if you want to have
different database adapters for, e.g., your development and test
environments.
</p>
					

					
					<div class="method-source-code"
						id="schema-format-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 378</span>
378:     <span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:schema_format</span> , <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="serialize-method" class="method-detail ">
				<a name="method-c-serialize"></a>

				<div class="method-heading">
				
					<span class="method-name">serialize</span><span
						class="method-args">(attr_name, class_name = Object)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
If you have an attribute that needs to be saved to the database as an
object, and retrieved as the same object, then specify the name of that
attribute using this method and it will be handled automatically. The
serialization is done through YAML. If <tt>class_name</tt> is specified,
the serialized object must be of that class on retrieval or <a
href="SerializationTypeMismatch.html">SerializationTypeMismatch</a> will be
raised.
</p>
<h4>Parameters</h4>
<ul>
<li><p>
<tt>attr_name</tt> - The field name that should be serialized.
</p>
</li>
<li><p>
<tt>class_name</tt> - Optional, class name that the object type should be
equal to.
</p>
</li>
</ul>
<h4>Example</h4>
<pre>
  # Serialize a preferences attribute
  class User
    serialize :preferences
  end</pre>
					

					
					<div class="method-source-code"
						id="serialize-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 604</span>
604:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">class_name</span> = <span class="ruby-constant">Object</span>)
605:         <span class="ruby-identifier">serialized_attributes</span>[<span class="ruby-identifier">attr_name</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-identifier">class_name</span>
606:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="serialized-attributes-method" class="method-detail ">
				<a name="method-c-serialized_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">serialized_attributes</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a hash of all the attributes that have been specified for
serialization as keys and their class restriction as values.
</p>
					

					
					<div class="method-source-code"
						id="serialized-attributes-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 609</span>
609:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">serialized_attributes</span>
610:         <span class="ruby-identifier">read_inheritable_attribute</span>(<span class="ruby-value">:attr_serialized</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:attr_serialized</span>, {})
611:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-inheritance-column-method" class="method-detail ">
				<a name="method-c-set_inheritance_column"></a>

				<div class="method-heading">
				
					<span class="method-name">set_inheritance_column</span><span
						class="method-args">(value = nil, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sets the name of the inheritance column to use to the given value, or (if
the value # is nil or false) to the value returned by the given block.
</p>
<pre>
  class Project &lt; ActiveRecord::Base
    set_inheritance_column do
      original_inheritance_column + &quot;_id&quot;
    end
  end</pre>
					

					
					<div class="method-source-code"
						id="set-inheritance-column-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 718</span>
718:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_inheritance_column</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">block</span>)
719:         <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:inheritance_column</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
720:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-sequence-name-method" class="method-detail ">
				<a name="method-c-set_sequence_name"></a>

				<div class="method-heading">
				
					<span class="method-name">set_sequence_name</span><span
						class="method-args">(value = nil, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sets the name of the sequence to use when generating ids to the given
value, or (if the value is nil or false) to the value returned by the given
block. This is required for Oracle and is useful for any database which
relies on sequences for primary key generation.
</p>
<p>
If a sequence name is not explicitly set when using Oracle or Firebird, it
will default to the commonly used pattern of: #{<a
href="Base.html#method-c-table_name">table_name</a>}_seq
</p>
<p>
If a sequence name is not explicitly set when using PostgreSQL, it will
discover the sequence corresponding to your primary key for you.
</p>
<pre>
  class Project &lt; ActiveRecord::Base
    set_sequence_name &quot;projectseq&quot;   # default would have been &quot;project_seq&quot;
  end</pre>
					

					
					<div class="method-source-code"
						id="set-sequence-name-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 737</span>
737:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_sequence_name</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">block</span>)
738:         <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:sequence_name</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
739:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-table-name-method" class="method-detail ">
				<a name="method-c-set_table_name"></a>

				<div class="method-heading">
				
					<span class="method-name">set_table_name</span><span
						class="method-args">(value = nil, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sets the table name to use to the given value, or (if the value is nil or
false) to the value returned by the given block.
</p>
<pre>
  class Project &lt; ActiveRecord::Base
    set_table_name &quot;project&quot;
  end</pre>
					

					
					<div class="method-source-code"
						id="set-table-name-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 703</span>
703:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_table_name</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">block</span>)
704:         <span class="ruby-ivar">@quoted_table_name</span> = <span class="ruby-keyword kw">nil</span>
705:         <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:table_name</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
706:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="sti-name-method" class="method-detail ">
				<a name="method-c-sti_name"></a>

				<div class="method-heading">
				
					<span class="method-name">sti_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="sti-name-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 922</span>
922:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sti_name</span>
923:         <span class="ruby-identifier">store_full_sti_class</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">demodulize</span>
924:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="subclasses-method" class="method-detail ">
				<a name="method-c-subclasses"></a>

				<div class="method-heading">
				
					<span class="method-name">subclasses</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a list of all subclasses of this class, meaning all descendants.
</p>
					

					
					<div class="method-source-code"
						id="subclasses-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1179</span>
1179:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subclasses</span>
1180:           <span class="ruby-identifier">@@subclasses</span>[<span class="ruby-keyword kw">self</span>] <span class="ruby-operator">||=</span> []
1181:           <span class="ruby-identifier">@@subclasses</span>[<span class="ruby-keyword kw">self</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">@@subclasses</span>[<span class="ruby-keyword kw">self</span>].<span class="ruby-identifier">inject</span>([]) {<span class="ruby-operator">|</span><span class="ruby-identifier">list</span>, <span class="ruby-identifier">subclass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">list</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">subclasses</span> }
1182:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="table-exists--method" class="method-detail ">
				<a name="method-c-table_exists%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">table_exists?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Indicates whether the table associated with this class exists
</p>
					

					
					<div class="method-source-code"
						id="table-exists--source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 751</span>
751:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_exists?</span>
752:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">table_exists?</span>(<span class="ruby-identifier">table_name</span>)
753:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="table-name-method" class="method-detail ">
				<a name="method-c-table_name"></a>

				<div class="method-heading">
				
					<span class="method-name">table_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Guesses the table name (in forced lower-case) based on the name of the
class in the inheritance hierarchy descending directly from <a
href="Base.html">ActiveRecord::Base</a>. So if the hierarchy looks like:
Reply < Message < <a href="Base.html">ActiveRecord::Base</a>, then Message
is used to guess the table name even when called on Reply. The rules used
to do the guess are handled by the Inflector class in Active Support, which
knows almost all common English inflections. You can add new inflections in
config/initializers/inflections.rb.
</p>
<p>
Nested classes are given table names prefixed by the singular form of the
parent&#8217;s table name. Enclosing modules are not considered.
</p>
<h4>Examples</h4>
<pre>
  class Invoice &lt; ActiveRecord::Base; end;
  file                  class               table_name
  invoice.rb            Invoice             invoices

  class Invoice &lt; ActiveRecord::Base; class Lineitem &lt; ActiveRecord::Base; end; end;
  file                  class               table_name
  invoice.rb            Invoice::Lineitem   invoice_lineitems

  module Invoice; class Lineitem &lt; ActiveRecord::Base; end; end;
  file                  class               table_name
  invoice/lineitem.rb   Invoice::Lineitem   lineitems
</pre>
<p>
Additionally, the class-level <tt><a
href="Base.html#method-c-table_name_prefix">table_name_prefix</a></tt> is
prepended and the <tt><a
href="Base.html#method-c-table_name_suffix">table_name_suffix</a></tt> is
appended.  So if you have &#8220;myapp_&#8221; as a prefix, the table name
guess for an Invoice class becomes &#8220;myapp_invoices&#8220;.
Invoice::Lineitem becomes &#8220;myapp_invoice_lineitems&#8220;.
</p>
<p>
You can also overwrite this class method to allow for unguessable links,
such as a Mouse class with a link to a &#8220;mice&#8221; table. Example:
</p>
<pre>
  class Mouse &lt; ActiveRecord::Base
    set_table_name &quot;mice&quot;
  end</pre>
					

					
					<div class="method-source-code"
						id="table-name-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 646</span>
646:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_name</span>
647:         <span class="ruby-identifier">reset_table_name</span>
648:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="table-name-prefix-method" class="method-detail ">
				<a name="method-c-table_name_prefix"></a>

				<div class="method-heading">
				
					<span class="method-name">table_name_prefix</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Accessor for the name of the prefix string to prepend to every table name.
So if set to &#8220;basecamp_&#8221;, all table names will be named like
&#8220;basecamp_projects&#8220;, &#8220;basecamp_people&#8220;, etc. This
is a convenient way of creating a namespace for tables in a shared
database. By default, the prefix is the empty string.
</p>
<p>
If you are organising your models within modules you can add a prefix to
the models within a namespace by defining a singleton method in the parent
module called <a
href="Base.html#method-c-table_name_prefix">table_name_prefix</a> which
returns your chosen prefix.
</p>
					

					
					<div class="method-source-code"
						id="table-name-prefix-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 345</span>
345:     <span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:table_name_prefix</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="table-name-suffix-method" class="method-detail ">
				<a name="method-c-table_name_suffix"></a>

				<div class="method-heading">
				
					<span class="method-name">table_name_suffix</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Works like <tt><a
href="Base.html#method-c-table_name_prefix">table_name_prefix</a></tt>, but
appends instead of prepends (set to &#8220;_basecamp&#8221; gives
&#8220;projects_basecamp&#8220;, &#8220;people_basecamp&#8220;). By
default, the suffix is the empty string.
</p>
					

					
					<div class="method-source-code"
						id="table-name-suffix-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 352</span>
352:     <span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:table_name_suffix</span>, <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="timestamped-migrations-method" class="method-detail ">
				<a name="method-c-timestamped_migrations"></a>

				<div class="method-heading">
				
					<span class="method-name">timestamped_migrations</span><span
						class="method-args"></span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Specify whether or not to use timestamps for migration versions
</p>
					

					
					<div class="method-source-code"
						id="timestamped-migrations-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 384</span>
384:     <span class="ruby-identifier">cattr_accessor</span> <span class="ruby-value">:timestamped_migrations</span> , <span class="ruby-value">:instance_writer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
</pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="unscoped-method" class="method-detail ">
				<a name="method-c-unscoped"></a>

				<div class="method-heading">
				
					<span class="method-name">unscoped</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="unscoped-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 926</span>
926:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unscoped</span>
927:         <span class="ruby-ivar">@unscoped</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Relation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">arel_table</span>)
928:         <span class="ruby-identifier">finder_needs_type_condition?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@unscoped</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">type_condition</span>) <span class="ruby-operator">:</span> <span class="ruby-ivar">@unscoped</span>
929:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="protected-class-method-details" class="method-section section">
			<h3 class="section-header">Protected Class Methods</h3>

		
			<div id="aggregate-mapping-method" class="method-detail ">
				<a name="method-c-aggregate_mapping"></a>

				<div class="method-heading">
				
					<span class="method-name">aggregate_mapping</span><span
						class="method-args">(reflection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="aggregate-mapping-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1277</span>
1277:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">aggregate_mapping</span>(<span class="ruby-identifier">reflection</span>)
1278:           <span class="ruby-identifier">mapping</span> = <span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">options</span>[<span class="ruby-value">:mapping</span>] <span class="ruby-operator">||</span> [<span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">reflection</span>.<span class="ruby-identifier">name</span>]
1279:           <span class="ruby-identifier">mapping</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">mapping</span> <span class="ruby-operator">:</span> [<span class="ruby-identifier">mapping</span>]
1280:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="class-of-active-record-descendant-method" class="method-detail ">
				<a name="method-c-class_of_active_record_descendant"></a>

				<div class="method-heading">
				
					<span class="method-name">class_of_active_record_descendant</span><span
						class="method-args">(klass)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the class descending directly from <a
href="Base.html">ActiveRecord::Base</a> or an abstract class, if any, in
the inheritance hierarchy.
</p>
					

					
					<div class="method-source-code"
						id="class-of-active-record-descendant-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1235</span>
1235:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_of_active_record_descendant</span>(<span class="ruby-identifier">klass</span>)
1236:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">abstract_class?</span>
1237:             <span class="ruby-identifier">klass</span>
1238:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">nil?</span>
1239:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-node">&quot;#{name} doesn't belong in a hierarchy descending from ActiveRecord&quot;</span>
1240:           <span class="ruby-keyword kw">else</span>
1241:             <span class="ruby-identifier">class_of_active_record_descendant</span>(<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>)
1242:           <span class="ruby-keyword kw">end</span>
1243:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="compute-type-method" class="method-detail ">
				<a name="method-c-compute_type"></a>

				<div class="method-heading">
				
					<span class="method-name">compute_type</span><span
						class="method-args">(type_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the class type of the record using the current module as a prefix.
So descendants of MyApp::Business::Account would appear as
MyApp::Business::AccountSubclass.
</p>
					

					
					<div class="method-source-code"
						id="compute-type-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1207</span>
1207:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compute_type</span>(<span class="ruby-identifier">type_name</span>)
1208:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type_name</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/^::/</span>)
1209:             <span class="ruby-comment cmt"># If the type is prefixed with a scope operator then we assume that</span>
1210:             <span class="ruby-comment cmt"># the type_name is an absolute reference.</span>
1211:             <span class="ruby-identifier">type_name</span>.<span class="ruby-identifier">constantize</span>
1212:           <span class="ruby-keyword kw">else</span>
1213:             <span class="ruby-comment cmt"># Build a list of candidates to search for</span>
1214:             <span class="ruby-identifier">candidates</span> = []
1215:             <span class="ruby-identifier">name</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/::|$/</span>) { <span class="ruby-identifier">candidates</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-node">&quot;#{$`}::#{type_name}&quot;</span> }
1216:             <span class="ruby-identifier">candidates</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">type_name</span>
1217: 
1218:             <span class="ruby-identifier">candidates</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">candidate</span><span class="ruby-operator">|</span>
1219:               <span class="ruby-keyword kw">begin</span>
1220:                 <span class="ruby-identifier">constant</span> = <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">constantize</span>
1221:                 <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">constant</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">candidate</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">to_s</span>
1222:               <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
1223:                 <span class="ruby-comment cmt"># We don't want to swallow NoMethodError &lt; NameError errors</span>
1224:                 <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">NameError</span>)
1225:               <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span>
1226:               <span class="ruby-keyword kw">end</span>
1227:             <span class="ruby-keyword kw">end</span>
1228: 
1229:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-node">&quot;uninitialized constant #{candidates.first}&quot;</span>
1230:           <span class="ruby-keyword kw">end</span>
1231:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="default-scope-method" class="method-detail ">
				<a name="method-c-default_scope"></a>

				<div class="method-heading">
				
					<span class="method-name">default_scope</span><span
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sets the default options for the model. The format of the <tt>options</tt>
argument is the same as in find.
</p>
<pre>
  class Person &lt; ActiveRecord::Base
    default_scope order('last_name, first_name')
  end</pre>
					

					
					<div class="method-source-code"
						id="default-scope-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1192</span>
1192:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_scope</span>(<span class="ruby-identifier">options</span> = {})
1193:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">default_scoping</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">construct_finder_arel</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">default_scoping</span>.<span class="ruby-identifier">pop</span>)
1194:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="expand-hash-conditions-for-aggregates-method" class="method-detail ">
				<a name="method-c-expand_hash_conditions_for_aggregates"></a>

				<div class="method-heading">
				
					<span class="method-name">expand_hash_conditions_for_aggregates</span><span
						class="method-args">(attrs)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Accepts a hash of SQL conditions and replaces those attributes that
correspond to a <tt>composed_of</tt> relationship with their expanded
aggregate attribute values. Given:
</p>
<pre>
    class Person &lt; ActiveRecord::Base
      composed_of :address, :class_name =&gt; &quot;Address&quot;,
        :mapping =&gt; [%w(address_street street), %w(address_city city)]
    end
</pre>
<p>
Then:
</p>
<pre>
    { :address =&gt; Address.new(&quot;813 abc st.&quot;, &quot;chicago&quot;) }
      # =&gt; { :address_street =&gt; &quot;813 abc st.&quot;, :address_city =&gt; &quot;chicago&quot; }</pre>
					

					
					<div class="method-source-code"
						id="expand-hash-conditions-for-aggregates-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1293</span>
1293:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_hash_conditions_for_aggregates</span>(<span class="ruby-identifier">attrs</span>)
1294:           <span class="ruby-identifier">expanded_attrs</span> = {}
1295:           <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
1296:             <span class="ruby-keyword kw">unless</span> (<span class="ruby-identifier">aggregation</span> = <span class="ruby-identifier">reflect_on_aggregation</span>(<span class="ruby-identifier">attr</span>.<span class="ruby-identifier">to_sym</span>)).<span class="ruby-identifier">nil?</span>
1297:               <span class="ruby-identifier">mapping</span> = <span class="ruby-identifier">aggregate_mapping</span>(<span class="ruby-identifier">aggregation</span>)
1298:               <span class="ruby-identifier">mapping</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field_attr</span>, <span class="ruby-identifier">aggregate_attr</span><span class="ruby-operator">|</span>
1299:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mapping</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">value</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">aggregate_attr</span>)
1300:                   <span class="ruby-identifier">expanded_attrs</span>[<span class="ruby-identifier">field_attr</span>] = <span class="ruby-identifier">value</span>
1301:                 <span class="ruby-keyword kw">else</span>
1302:                   <span class="ruby-identifier">expanded_attrs</span>[<span class="ruby-identifier">field_attr</span>] = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">aggregate_attr</span>)
1303:                 <span class="ruby-keyword kw">end</span>
1304:               <span class="ruby-keyword kw">end</span>
1305:             <span class="ruby-keyword kw">else</span>
1306:               <span class="ruby-identifier">expanded_attrs</span>[<span class="ruby-identifier">attr</span>] = <span class="ruby-identifier">value</span>
1307:             <span class="ruby-keyword kw">end</span>
1308:           <span class="ruby-keyword kw">end</span>
1309:           <span class="ruby-identifier">expanded_attrs</span>
1310:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="sanitize-sql-array-method" class="method-detail ">
				<a name="method-c-sanitize_sql_array"></a>

				<div class="method-heading">
				
					<span class="method-name">sanitize_sql_array</span><span
						class="method-args">(ary)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Accepts an array of conditions.  The array has each value sanitized and
interpolated into the SQL statement.
</p>
<pre>
  [&quot;name='%s' and group_id='%s'&quot;, &quot;foo'bar&quot;, 4]  returns  &quot;name='foo''bar' and group_id='4'&quot;</pre>
					

					
					<div class="method-source-code"
						id="sanitize-sql-array-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1347</span>
1347:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sanitize_sql_array</span>(<span class="ruby-identifier">ary</span>)
1348:           <span class="ruby-identifier">statement</span>, *<span class="ruby-identifier">values</span> = <span class="ruby-identifier">ary</span>
1349:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">statement</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/:\w+/</span>
1350:             <span class="ruby-identifier">replace_named_bind_variables</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>)
1351:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'?'</span>)
1352:             <span class="ruby-identifier">replace_bind_variables</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">values</span>)
1353:           <span class="ruby-keyword kw">else</span>
1354:             <span class="ruby-identifier">statement</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_string</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>) }
1355:           <span class="ruby-keyword kw">end</span>
1356:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="sanitize-sql-for-assignment-method" class="method-detail ">
				<a name="method-c-sanitize_sql_for_assignment"></a>

				<div class="method-heading">
				
					<span class="method-name">sanitize_sql_for_assignment</span><span
						class="method-args">(assignments)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Accepts an array, hash, or string of SQL conditions and sanitizes them into
a valid SQL fragment for a SET clause.
</p>
<pre>
  { :name =&gt; nil, :group_id =&gt; 4 }  returns &quot;name = NULL , group_id='4'&quot;</pre>
					

					
					<div class="method-source-code"
						id="sanitize-sql-for-assignment-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1269</span>
1269:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sanitize_sql_for_assignment</span>(<span class="ruby-identifier">assignments</span>)
1270:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">assignments</span>
1271:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>; <span class="ruby-identifier">sanitize_sql_array</span>(<span class="ruby-identifier">assignments</span>)
1272:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>;  <span class="ruby-identifier">sanitize_sql_hash_for_assignment</span>(<span class="ruby-identifier">assignments</span>)
1273:             <span class="ruby-keyword kw">else</span>        <span class="ruby-identifier">assignments</span>
1274:           <span class="ruby-keyword kw">end</span>
1275:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="sanitize-sql-for-conditions-method" class="method-detail ">
				<a name="method-c-sanitize_sql_for_conditions"></a>

				<div class="method-heading">
				
					<span class="method-name">sanitize_sql_for_conditions</span><span
						class="method-args">(condition, table_name = self.table_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Accepts an array, hash, or string of SQL conditions and sanitizes them into
a valid SQL fragment for a WHERE clause.
</p>
<pre>
  [&quot;name='%s' and group_id='%s'&quot;, &quot;foo'bar&quot;, 4]  returns  &quot;name='foo''bar' and group_id='4'&quot;
  { :name =&gt; &quot;foo'bar&quot;, :group_id =&gt; 4 }  returns &quot;name='foo''bar' and group_id='4'&quot;
  &quot;name='foo''bar' and group_id='4'&quot; returns &quot;name='foo''bar' and group_id='4'&quot;</pre>
					

					
					<div class="method-source-code"
						id="sanitize-sql-for-conditions-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1255</span>
1255:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sanitize_sql_for_conditions</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">table_name</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">table_name</span>)
1256:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">condition</span>.<span class="ruby-identifier">blank?</span>
1257: 
1258:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">condition</span>
1259:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>; <span class="ruby-identifier">sanitize_sql_array</span>(<span class="ruby-identifier">condition</span>)
1260:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>;  <span class="ruby-identifier">sanitize_sql_hash_for_conditions</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">table_name</span>)
1261:             <span class="ruby-keyword kw">else</span>        <span class="ruby-identifier">condition</span>
1262:           <span class="ruby-keyword kw">end</span>
1263:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="sanitize-sql-hash-for-assignment-method" class="method-detail ">
				<a name="method-c-sanitize_sql_hash_for_assignment"></a>

				<div class="method-heading">
				
					<span class="method-name">sanitize_sql_hash_for_assignment</span><span
						class="method-args">(attrs)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sanitizes a hash of attribute/value pairs into SQL conditions for a SET
clause.
</p>
<pre>
  { :status =&gt; nil, :group_id =&gt; 1 }
    # =&gt; &quot;status = NULL , group_id = 1&quot;</pre>
					

					
					<div class="method-source-code"
						id="sanitize-sql-hash-for-assignment-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1338</span>
1338:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sanitize_sql_hash_for_assignment</span>(<span class="ruby-identifier">attrs</span>)
1339:           <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
1340:             <span class="ruby-node">&quot;#{connection.quote_column_name(attr)} = #{quote_bound_value(value)}&quot;</span>
1341:           <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>)
1342:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="sanitize-sql-hash-for-conditions-method" class="method-detail ">
				<a name="method-c-sanitize_sql_hash_for_conditions"></a>

				<div class="method-heading">
				
					<span class="method-name">sanitize_sql_hash_for_conditions</span><span
						class="method-args">(attrs, default_table_name = self.table_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sanitizes a hash of attribute/value pairs into SQL conditions for a WHERE
clause.
</p>
<pre>
  { :name =&gt; &quot;foo'bar&quot;, :group_id =&gt; 4 }
    # =&gt; &quot;name='foo''bar' and group_id= 4&quot;
  { :status =&gt; nil, :group_id =&gt; [1,2,3] }
    # =&gt; &quot;status IS NULL and group_id IN (1,2,3)&quot;
  { :age =&gt; 13..18 }
    # =&gt; &quot;age BETWEEN 13 AND 18&quot;
  { 'other_records.id' =&gt; 7 }
    # =&gt; &quot;`other_records`.`id` = 7&quot;
  { :other_records =&gt; { :id =&gt; 7 } }
    # =&gt; &quot;`other_records`.`id` = 7&quot;
</pre>
<p>
And for value objects on a composed_of relationship:
</p>
<pre>
  { :address =&gt; Address.new(&quot;123 abc st.&quot;, &quot;chicago&quot;) }
    # =&gt; &quot;address_street='123 abc st.' and address_city='chicago'&quot;</pre>
					

					
					<div class="method-source-code"
						id="sanitize-sql-hash-for-conditions-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1326</span>
1326:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sanitize_sql_hash_for_conditions</span>(<span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">default_table_name</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">table_name</span>)
1327:           <span class="ruby-identifier">attrs</span> = <span class="ruby-identifier">expand_hash_conditions_for_aggregates</span>(<span class="ruby-identifier">attrs</span>)
1328: 
1329:           <span class="ruby-identifier">table</span> = <span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">table_name</span>, <span class="ruby-value">:engine</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">arel_engine</span>, <span class="ruby-value">:as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">default_table_name</span>)
1330:           <span class="ruby-identifier">builder</span> = <span class="ruby-constant">PredicateBuilder</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">arel_engine</span>)
1331:           <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">build_from_hash</span>(<span class="ruby-identifier">attrs</span>, <span class="ruby-identifier">table</span>).<span class="ruby-identifier">map</span>(&amp;<span class="ruby-value">:to_sql</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">' AND '</span>)
1332:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="with-exclusive-scope-method" class="method-detail ">
				<a name="method-c-with_exclusive_scope"></a>

				<div class="method-heading">
				
					<span class="method-name">with_exclusive_scope</span><span
						class="method-args">(method_scoping = {}, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Works like <a href="Base.html#method-c-with_scope">with_scope</a>, but
discards any nested properties.
</p>
					

					
					<div class="method-source-code"
						id="with-exclusive-scope-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1174</span>
1174:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_exclusive_scope</span>(<span class="ruby-identifier">method_scoping</span> = {}, &amp;<span class="ruby-identifier">block</span>)
1175:           <span class="ruby-identifier">with_scope</span>(<span class="ruby-identifier">method_scoping</span>, <span class="ruby-value">:overwrite</span>, &amp;<span class="ruby-identifier">block</span>)
1176:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="with-scope-method" class="method-detail ">
				<a name="method-c-with_scope"></a>

				<div class="method-heading">
				
					<span class="method-name">with_scope</span><span
						class="method-args">(method_scoping = {}, action = :merge, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Scope parameters to method calls within the block.  Takes a hash of
method_name => parameters hash. method_name may be <tt>:find</tt> or
<tt>:create</tt>. <tt>:find</tt> parameter is <tt>Relation</tt> while
<tt>:create</tt> parameters are an attributes hash.
</p>
<pre>
  class Article &lt; ActiveRecord::Base
    def self.create_with_scope
      with_scope(:find =&gt; where(:blog_id =&gt; 1), :create =&gt; { :blog_id =&gt; 1 }) do
        find(1) # =&gt; SELECT * from articles WHERE blog_id = 1 AND id = 1
        a = create(1)
        a.blog_id # =&gt; 1
      end
    end
  end
</pre>
<p>
In nested scopings, all previous parameters are overwritten by the
innermost rule, with the exception of <tt>where</tt>, <tt>includes</tt>,
and <tt>joins</tt> operations in <tt>Relation</tt>, which are merged.
</p>
<p>
<tt>joins</tt> operations are uniqued so multiple scopes can join in the
same table without table aliasing problems.  If you need to join multiple
tables, but still want one of the tables to be uniqued, use the array of
strings format for your joins.
</p>
<pre>
  class Article &lt; ActiveRecord::Base
    def self.find_with_scope
      with_scope(:find =&gt; where(:blog_id =&gt; 1).limit(1), :create =&gt; { :blog_id =&gt; 1 }) do
        with_scope(:find =&gt; limit(10)) do
          all # =&gt; SELECT * from articles WHERE blog_id = 1 LIMIT 10
        end
        with_scope(:find =&gt; where(:author_id =&gt; 3)) do
          all # =&gt; SELECT * from articles WHERE blog_id = 1 AND author_id = 3 LIMIT 1
        end
      end
    end
  end
</pre>
<p>
You can ignore any previous scopings by using the <tt><a
href="Base.html#method-c-with_exclusive_scope">with_exclusive_scope</a></tt>
method.
</p>
<pre>
  class Article &lt; ActiveRecord::Base
    def self.find_with_exclusive_scope
      with_scope(:find =&gt; where(:blog_id =&gt; 1).limit(1)) do
        with_exclusive_scope(:find =&gt; limit(10))
          all # =&gt; SELECT * from articles LIMIT 10
        end
      end
    end
  end
</pre>
<p>
<b>Note</b>: the <tt>:find</tt> scope also has effect on update and
deletion methods, like <tt>update_all</tt> and <tt>delete_all</tt>.
</p>
					

					
					<div class="method-source-code"
						id="with-scope-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1133</span>
1133:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">with_scope</span>(<span class="ruby-identifier">method_scoping</span> = {}, <span class="ruby-identifier">action</span> = <span class="ruby-value">:merge</span>, &amp;<span class="ruby-identifier">block</span>)
1134:           <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">method_scoping</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:method_scoping</span>)
1135: 
1136:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
1137:             <span class="ruby-comment cmt"># Dup first and second level of hash (method and params).</span>
1138:             <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, (<span class="ruby-identifier">method</span>, <span class="ruby-identifier">params</span>)<span class="ruby-operator">|</span>
1139:               <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = (<span class="ruby-identifier">params</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">params</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">dup</span>
1140:               <span class="ruby-identifier">hash</span>
1141:             <span class="ruby-keyword kw">end</span>
1142: 
1143:             <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:find</span>, <span class="ruby-value">:create</span> ])
1144:             <span class="ruby-identifier">relation</span> = <span class="ruby-identifier">construct_finder_arel</span>(<span class="ruby-identifier">method_scoping</span>[<span class="ruby-value">:find</span>] <span class="ruby-operator">||</span> {})
1145: 
1146:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">current_scoped_methods</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">current_scoped_methods</span>.<span class="ruby-identifier">create_with_value</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">method_scoping</span>[<span class="ruby-value">:create</span>]
1147:               <span class="ruby-identifier">scope_for_create</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span> <span class="ruby-value">:merge</span>
1148:                 <span class="ruby-identifier">current_scoped_methods</span>.<span class="ruby-identifier">create_with_value</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">method_scoping</span>[<span class="ruby-value">:create</span>])
1149:               <span class="ruby-keyword kw">else</span>
1150:                 <span class="ruby-identifier">method_scoping</span>[<span class="ruby-value">:create</span>]
1151:               <span class="ruby-keyword kw">end</span>
1152: 
1153:               <span class="ruby-identifier">relation</span> = <span class="ruby-identifier">relation</span>.<span class="ruby-identifier">create_with</span>(<span class="ruby-identifier">scope_for_create</span>)
1154:             <span class="ruby-keyword kw">else</span>
1155:               <span class="ruby-identifier">scope_for_create</span> = <span class="ruby-identifier">method_scoping</span>[<span class="ruby-value">:create</span>]
1156:               <span class="ruby-identifier">scope_for_create</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">current_scoped_methods</span>.<span class="ruby-identifier">create_with_value</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">current_scoped_methods</span>
1157:               <span class="ruby-identifier">relation</span> = <span class="ruby-identifier">relation</span>.<span class="ruby-identifier">create_with</span>(<span class="ruby-identifier">scope_for_create</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">scope_for_create</span>
1158:             <span class="ruby-keyword kw">end</span>
1159: 
1160:             <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">relation</span>
1161:           <span class="ruby-keyword kw">end</span>
1162: 
1163:           <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">current_scoped_methods</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">method_scoping</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">current_scoped_methods</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span>  <span class="ruby-value">:merge</span>
1164: 
1165:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scoped_methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">method_scoping</span>
1166:           <span class="ruby-keyword kw">begin</span>
1167:             <span class="ruby-keyword kw">yield</span>
1168:           <span class="ruby-keyword kw">ensure</span>
1169:             <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">scoped_methods</span>.<span class="ruby-identifier">pop</span>
1170:           <span class="ruby-keyword kw">end</span>
1171:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-class-method-details" class="method-section section">
			<h3 class="section-header">Private Class Methods</h3>

		
			<div id="all-attributes-exists--method" class="method-detail ">
				<a name="method-c-all_attributes_exists%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">all_attributes_exists?</span><span
						class="method-args">(attribute_names)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="all-attributes-exists--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1066</span>
1066:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all_attributes_exists?</span>(<span class="ruby-identifier">attribute_names</span>)
1067:           <span class="ruby-identifier">attribute_names</span> = <span class="ruby-identifier">expand_attribute_names_for_aggregates</span>(<span class="ruby-identifier">attribute_names</span>)
1068:           <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column_methods_hash</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>) }
1069:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attribute-condition-method" class="method-detail ">
				<a name="method-c-attribute_condition"></a>

				<div class="method-heading">
				
					<span class="method-name">attribute_condition</span><span
						class="method-args">(quoted_column_name, argument)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="attribute-condition-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1071</span>
1071:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute_condition</span>(<span class="ruby-identifier">quoted_column_name</span>, <span class="ruby-identifier">argument</span>)
1072:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">argument</span>
1073:             <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>   <span class="ruby-keyword kw">then</span> <span class="ruby-node">&quot;#{quoted_column_name} IS ?&quot;</span>
1074:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>, <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Associations</span><span class="ruby-operator">::</span><span class="ruby-constant">AssociationCollection</span>, <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">NamedScope</span><span class="ruby-operator">::</span><span class="ruby-constant">Scope</span> <span class="ruby-keyword kw">then</span> <span class="ruby-node">&quot;#{quoted_column_name} IN (?)&quot;</span>
1075:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Range</span> <span class="ruby-keyword kw">then</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">argument</span>.<span class="ruby-identifier">exclude_end?</span>
1076:                               <span class="ruby-node">&quot;#{quoted_column_name} &gt;= ? AND #{quoted_column_name} &lt; ?&quot;</span>
1077:                             <span class="ruby-keyword kw">else</span>
1078:                               <span class="ruby-node">&quot;#{quoted_column_name} BETWEEN ? AND ?&quot;</span>
1079:                             <span class="ruby-keyword kw">end</span>
1080:             <span class="ruby-keyword kw">else</span>            <span class="ruby-node">&quot;#{quoted_column_name} = ?&quot;</span>
1081:           <span class="ruby-keyword kw">end</span>
1082:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="construct-attributes-from-arguments-method" class="method-detail ">
				<a name="method-c-construct_attributes_from_arguments"></a>

				<div class="method-heading">
				
					<span class="method-name">construct_attributes_from_arguments</span><span
						class="method-args">(attribute_names, arguments)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="construct-attributes-from-arguments-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1045</span>
1045:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">construct_attributes_from_arguments</span>(<span class="ruby-identifier">attribute_names</span>, <span class="ruby-identifier">arguments</span>)
1046:           <span class="ruby-identifier">attributes</span> = {}
1047:           <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">each_with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">arguments</span>[<span class="ruby-identifier">idx</span>] }
1048:           <span class="ruby-identifier">attributes</span>
1049:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="construct-finder-arel-method" class="method-detail ">
				<a name="method-c-construct_finder_arel"></a>

				<div class="method-heading">
				
					<span class="method-name">construct_finder_arel</span><span
						class="method-args">(options = {}, scope = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="construct-finder-arel-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 983</span>
983:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">construct_finder_arel</span>(<span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">scope</span> = <span class="ruby-keyword kw">nil</span>)
984:           <span class="ruby-identifier">relation</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">unscoped</span>.<span class="ruby-identifier">apply_finder_options</span>(<span class="ruby-identifier">options</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">unscoped</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
985:           <span class="ruby-identifier">relation</span> = <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">relation</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">scope</span>
986:           <span class="ruby-identifier">relation</span>
987:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="expand-attribute-names-for-aggregates-method" class="method-detail ">
				<a name="method-c-expand_attribute_names_for_aggregates"></a>

				<div class="method-heading">
				
					<span class="method-name">expand_attribute_names_for_aggregates</span><span
						class="method-args">(attribute_names)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Similar in purpose to <tt><a
href="Base.html#method-c-expand_hash_conditions_for_aggregates">expand_hash_conditions_for_aggregates</a></tt>.
</p>
					

					
					<div class="method-source-code"
						id="expand-attribute-names-for-aggregates-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1052</span>
1052:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_attribute_names_for_aggregates</span>(<span class="ruby-identifier">attribute_names</span>)
1053:           <span class="ruby-identifier">expanded_attribute_names</span> = []
1054:           <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attribute_name</span><span class="ruby-operator">|</span>
1055:             <span class="ruby-keyword kw">unless</span> (<span class="ruby-identifier">aggregation</span> = <span class="ruby-identifier">reflect_on_aggregation</span>(<span class="ruby-identifier">attribute_name</span>.<span class="ruby-identifier">to_sym</span>)).<span class="ruby-identifier">nil?</span>
1056:               <span class="ruby-identifier">aggregate_mapping</span>(<span class="ruby-identifier">aggregation</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field_attr</span>, <span class="ruby-identifier">aggregate_attr</span><span class="ruby-operator">|</span>
1057:                 <span class="ruby-identifier">expanded_attribute_names</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">field_attr</span>
1058:               <span class="ruby-keyword kw">end</span>
1059:             <span class="ruby-keyword kw">else</span>
1060:               <span class="ruby-identifier">expanded_attribute_names</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attribute_name</span>
1061:             <span class="ruby-keyword kw">end</span>
1062:           <span class="ruby-keyword kw">end</span>
1063:           <span class="ruby-identifier">expanded_attribute_names</span>
1064:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="find-sti-class-method" class="method-detail ">
				<a name="method-c-find_sti_class"></a>

				<div class="method-heading">
				
					<span class="method-name">find_sti_class</span><span
						class="method-args">(type_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="find-sti-class-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 967</span>
967:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_sti_class</span>(<span class="ruby-identifier">type_name</span>)
968:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type_name</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">columns_hash</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">inheritance_column</span>)
969:             <span class="ruby-keyword kw">self</span>
970:           <span class="ruby-keyword kw">else</span>
971:             <span class="ruby-keyword kw">begin</span>
972:               <span class="ruby-identifier">compute_type</span>(<span class="ruby-identifier">type_name</span>)
973:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">NameError</span>
974:               <span class="ruby-identifier">raise</span> <span class="ruby-constant">SubclassNotFound</span>,
975:                 <span class="ruby-node">&quot;The single-table inheritance mechanism failed to locate the subclass: '#{type_name}'. &quot;</span> <span class="ruby-operator">+</span>
976:                 <span class="ruby-node">&quot;This error is raised because the column '#{inheritance_column}' is reserved for storing the class in case of inheritance. &quot;</span> <span class="ruby-operator">+</span>
977:                 <span class="ruby-value str">&quot;Please rename this column if you didn't intend it to be used for storing the inheritance class &quot;</span> <span class="ruby-operator">+</span>
978:                 <span class="ruby-node">&quot;or overwrite #{name}.inheritance_column to use another column for that information.&quot;</span>
979:             <span class="ruby-keyword kw">end</span>
980:           <span class="ruby-keyword kw">end</span>
981:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="instantiate-method" class="method-detail ">
				<a name="method-c-instantiate"></a>

				<div class="method-heading">
				
					<span class="method-name">instantiate</span><span
						class="method-args">(record)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Finder methods must instantiate through this method to work with the
single-table inheritance model that makes it possible to create objects of
different types from the same table.
</p>
					

					
					<div class="method-source-code"
						id="instantiate-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 949</span>
949:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instantiate</span>(<span class="ruby-identifier">record</span>)
950:           <span class="ruby-identifier">object</span> = <span class="ruby-identifier">find_sti_class</span>(<span class="ruby-identifier">record</span>[<span class="ruby-identifier">inheritance_column</span>]).<span class="ruby-identifier">allocate</span>
951: 
952:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:'@attributes'</span>, <span class="ruby-identifier">record</span>)
953:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:'@attributes_cache'</span>, {})
954:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@new_record</span>, <span class="ruby-keyword kw">false</span>)
955:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@readonly</span>, <span class="ruby-keyword kw">false</span>)
956:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@destroyed</span>, <span class="ruby-keyword kw">false</span>)
957:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@marked_for_destruction</span>, <span class="ruby-keyword kw">false</span>)
958:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@previously_changed</span>, {})
959:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@changed_attributes</span>, {})
960: 
961:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:_run_find_callbacks</span>)
962:           <span class="ruby-identifier">object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:_run_initialize_callbacks</span>)
963: 
964:           <span class="ruby-identifier">object</span>
965:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="method-missing-method" class="method-detail ">
				<a name="method-c-method_missing"></a>

				<div class="method-heading">
				
					<span class="method-name">method_missing</span><span
						class="method-args">(method_id, *arguments, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Enables dynamic finders like <tt>find_by_user_name(user_name)</tt> and
<tt>find_by_user_name_and_password(user_name, password)</tt> that are
turned into <tt>where(:user_name =&gt; user_name).first</tt> and
<tt>where(:user_name =&gt; user_name, :password =&gt; :password).first</tt>
respectively. Also works for <tt>all</tt> by using
<tt>find_all_by_amount(50)</tt> that is turned into <tt>where(:amount =&gt;
50).all</tt>.
</p>
<p>
It&#8217;s even possible to use all the additional parameters to
<tt>find</tt>. For example, the full interface for
<tt>find_all_by_amount</tt> is actually <tt>find_all_by_amount(amount,
options)</tt>.
</p>
<p>
Each dynamic finder, scope or initializer/creator is also defined in the
class after it is first invoked, so that future attempts to use it do not
run through method_missing.
</p>
					

					
					<div class="method-source-code"
						id="method-missing-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1013</span>
1013:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">method_id</span>, *<span class="ruby-identifier">arguments</span>, &amp;<span class="ruby-identifier">block</span>)
1014:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicFinderMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method_id</span>)
1015:             <span class="ruby-identifier">attribute_names</span> = <span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>
1016:             <span class="ruby-keyword kw">super</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">all_attributes_exists?</span>(<span class="ruby-identifier">attribute_names</span>)
1017:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">finder?</span>
1018:               <span class="ruby-identifier">options</span> = <span class="ruby-identifier">arguments</span>.<span class="ruby-identifier">extract_options!</span>
1019:               <span class="ruby-identifier">relation</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">construct_finder_arel</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">current_scoped_methods</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">scoped</span>
1020:               <span class="ruby-identifier">relation</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:find_by_attributes</span>, <span class="ruby-identifier">match</span>, <span class="ruby-identifier">attribute_names</span>, *<span class="ruby-identifier">arguments</span>
1021:             <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">instantiator?</span>
1022:               <span class="ruby-identifier">scoped</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:find_or_instantiator_by_attributes</span>, <span class="ruby-identifier">match</span>, <span class="ruby-identifier">attribute_names</span>, *<span class="ruby-identifier">arguments</span>, &amp;<span class="ruby-identifier">block</span>
1023:             <span class="ruby-keyword kw">end</span>
1024:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">match</span> = <span class="ruby-constant">DynamicScopeMatch</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">method_id</span>)
1025:             <span class="ruby-identifier">attribute_names</span> = <span class="ruby-identifier">match</span>.<span class="ruby-identifier">attribute_names</span>
1026:             <span class="ruby-keyword kw">super</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">all_attributes_exists?</span>(<span class="ruby-identifier">attribute_names</span>)
1027:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">scope?</span>
1028:               <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-value str">                def self.#{method_id}(*args)                        # def self.scoped_by_user_name_and_password(*args)                  options = args.extract_options!                   #   options = args.extract_options!                  attributes = construct_attributes_from_arguments( #   attributes = construct_attributes_from_arguments(                    [:#{attribute_names.join(',:')}], args          #     [:user_name, :password], args                  )                                                 #   )                                                                    #                  scoped(:conditions =&gt; attributes)                 #   scoped(:conditions =&gt; attributes)                end                                                 # end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
1029:               <span class="ruby-identifier">send</span>(<span class="ruby-identifier">method_id</span>, *<span class="ruby-identifier">arguments</span>)
1030:             <span class="ruby-keyword kw">end</span>
1031:           <span class="ruby-keyword kw">else</span>
1032:             <span class="ruby-keyword kw">super</span>
1033:           <span class="ruby-keyword kw">end</span>
1034:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="parse-sqlite-config--method" class="method-detail ">
				<a name="method-c-parse_sqlite_config%21"></a>

				<div class="method-heading">
				
					<span class="method-name">parse_sqlite_config!</span><span
						class="method-args">(config)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="parse-sqlite-config--source">
<pre>
    <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/sqlite_adapter.rb, line 8</span>
 8:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_sqlite_config!</span>(<span class="ruby-identifier">config</span>)
 9:           <span class="ruby-comment cmt"># Require database.</span>
10:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:database</span>]
11:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;No database file specified. Missing argument: database&quot;</span>
12:           <span class="ruby-keyword kw">end</span>
13: 
14:           <span class="ruby-comment cmt"># Allow database path relative to Rails.root, but only if</span>
15:           <span class="ruby-comment cmt"># the database path is not the special path that tells</span>
16:           <span class="ruby-comment cmt"># Sqlite to build a database only in memory.</span>
17:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-value str">':memory:'</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">config</span>[<span class="ruby-value">:database</span>]
18:             <span class="ruby-identifier">config</span>[<span class="ruby-value">:database</span>] = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">config</span>[<span class="ruby-value">:database</span>], <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">root</span>)
19:           <span class="ruby-keyword kw">end</span>
20:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="type-condition-method" class="method-detail ">
				<a name="method-c-type_condition"></a>

				<div class="method-heading">
				
					<span class="method-name">type_condition</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="type-condition-source">
<pre>
     <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 989</span>
989:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">type_condition</span>
990:           <span class="ruby-identifier">sti_column</span> = <span class="ruby-identifier">arel_table</span>[<span class="ruby-identifier">inheritance_column</span>]
991:           <span class="ruby-identifier">condition</span> = <span class="ruby-identifier">sti_column</span>.<span class="ruby-identifier">eq</span>(<span class="ruby-identifier">sti_name</span>)
992:           <span class="ruby-identifier">subclasses</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">subclass</span><span class="ruby-operator">|</span> <span class="ruby-identifier">condition</span> = <span class="ruby-identifier">condition</span>.<span class="ruby-identifier">or</span>(<span class="ruby-identifier">sti_column</span>.<span class="ruby-identifier">eq</span>(<span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">sti_name</span>)) }
993: 
994:           <span class="ruby-identifier">condition</span>
995:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="undecorated-table-name-method" class="method-detail ">
				<a name="method-c-undecorated_table_name"></a>

				<div class="method-heading">
				
					<span class="method-name">undecorated_table_name</span><span
						class="method-args">(class_name = base_class.name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Guesses the table name, but does not decorate it with prefix and suffix
information.
</p>
					

					
					<div class="method-source-code"
						id="undecorated-table-name-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 998</span>
 998:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">undecorated_table_name</span>(<span class="ruby-identifier">class_name</span> = <span class="ruby-identifier">base_class</span>.<span class="ruby-identifier">name</span>)
 999:           <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">class_name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">demodulize</span>.<span class="ruby-identifier">underscore</span>
1000:           <span class="ruby-identifier">table_name</span> = <span class="ruby-identifier">table_name</span>.<span class="ruby-identifier">pluralize</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pluralize_table_names</span>
1001:           <span class="ruby-identifier">table_name</span>
1002:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%3D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">==</span><span
						class="method-args">(comparison_object)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns true if the <tt>comparison_object</tt> is the same object, or is of
the same type and has the same id.
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1638</span>
1638:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">comparison_object</span>)
1639:         <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">||</span>
1640:           (<span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span>
1641:             <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">new_record?</span>)
1642:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%5B%5D"></a>

				<div class="method-heading">
				
					<span class="method-name">[]</span><span
						class="method-args">(attr_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the value of the attribute identified by <tt>attr_name</tt> after
it has been typecast (for example, &#8220;2004-12-12&#8221; in a data
column is cast to a date object, like Date.new(2004, 12, 12)). (Alias for
the protected read_attribute method).
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1545</span>
1545:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">attr_name</span>)
1546:         <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attr_name</span>)
1547:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%5B%5D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">[]=</span><span
						class="method-args">(attr_name, value)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Updates the attribute identified by <tt>attr_name</tt> with the specified
<tt>value</tt>. (Alias for the protected write_attribute method).
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1551</span>
1551:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">value</span>)
1552:         <span class="ruby-identifier">write_attribute</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">value</span>)
1553:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attribute-for-inspect-method" class="method-detail ">
				<a name="method-i-attribute_for_inspect"></a>

				<div class="method-heading">
				
					<span class="method-name">attribute_for_inspect</span><span
						class="method-args">(attr_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an <tt><a href="Base.html#method-i-inspect">#</a></tt>-like string
for the value of the attribute <tt>attr_name</tt>. String attributes are
elided after 50 characters, and Date and <a href="../Time.html">Time</a>
attributes are returned in the <tt>:db</tt> format. Other attributes return
the value of <tt><a href="Base.html#method-i-inspect">#</a></tt> without
modification.
</p>
<pre>
  person = Person.create!(:name =&gt; &quot;David Heinemeier Hansson &quot; * 3)

  person.attribute_for_inspect(:name)
  # =&gt; '&quot;David Heinemeier Hansson David Heinemeier Hansson D...&quot;'

  person.attribute_for_inspect(:created_at)
  # =&gt; '&quot;2009-01-12 04:48:57&quot;'</pre>
					

					
					<div class="method-source-code"
						id="attribute-for-inspect-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1613</span>
1613:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute_for_inspect</span>(<span class="ruby-identifier">attr_name</span>)
1614:         <span class="ruby-identifier">value</span> = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attr_name</span>)
1615: 
1616:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>
1617:           <span class="ruby-node">&quot;#{value[0..50]}...&quot;</span>.<span class="ruby-identifier">inspect</span>
1618:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Date</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Time</span>)
1619:           <span class="ruby-node">%(&quot;#{value.to_s(:db)}&quot;)</span>
1620:         <span class="ruby-keyword kw">else</span>
1621:           <span class="ruby-identifier">value</span>.<span class="ruby-identifier">inspect</span>
1622:         <span class="ruby-keyword kw">end</span>
1623:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attribute-names-method" class="method-detail ">
				<a name="method-i-attribute_names"></a>

				<div class="method-heading">
				
					<span class="method-name">attribute_names</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an array of names for the attributes available on this object
sorted alphabetically.
</p>
					

					
					<div class="method-source-code"
						id="attribute-names-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1538</span>
1538:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute_names</span>
1539:         <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>
1540:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attribute-present--method" class="method-detail ">
				<a name="method-i-attribute_present%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">attribute_present?</span><span
						class="method-args">(attribute)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns true if the specified <tt>attribute</tt> has been set by the user
or by a database load and is neither nil nor empty? (the latter only
applies to objects that respond to empty?, most notably Strings).
</p>
					

					
					<div class="method-source-code"
						id="attribute-present--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1627</span>
1627:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute_present?</span>(<span class="ruby-identifier">attribute</span>)
1628:         <span class="ruby-identifier">value</span> = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attribute</span>)
1629:         <span class="ruby-operator">!</span><span class="ruby-identifier">value</span>.<span class="ruby-identifier">blank?</span>
1630:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attributes-method" class="method-detail ">
				<a name="method-i-attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">attributes</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a hash of all the attributes with their names as keys and the
values of the attributes as values.
</p>
					

					
					<div class="method-source-code"
						id="attributes-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1594</span>
1594:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attributes</span>
1595:         <span class="ruby-identifier">attrs</span> = {}
1596:         <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attrs</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">name</span>) }
1597:         <span class="ruby-identifier">attrs</span>
1598:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attributes--method" class="method-detail ">
				<a name="method-i-attributes%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">attributes=</span><span
						class="method-args">(new_attributes, guard_protected_attributes = true)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Allows you to set all the attributes at once by passing in a hash with keys
matching the attribute names (which again matches the column names).
</p>
<p>
If <tt>guard_protected_attributes</tt> is true (the default), then
sensitive attributes can be protected from this form of mass-assignment by
using the <tt><a
href="Base.html#method-c-attr_protected">attr_protected</a></tt> macro. Or
you can alternatively specify which attributes <b>can</b> be accessed with
the <tt><a
href="Base.html#method-c-attr_accessible">attr_accessible</a></tt> macro.
Then all the attributes not included in that won&#8217;t be allowed to be
mass-assigned.
</p>
<pre>
  class User &lt; ActiveRecord::Base
    attr_protected :is_admin
  end

  user = User.new
  user.attributes = { :username =&gt; 'Phusion', :is_admin =&gt; true }
  user.username   # =&gt; &quot;Phusion&quot;
  user.is_admin?  # =&gt; false

  user.send(:attributes=, { :username =&gt; 'Phusion', :is_admin =&gt; true }, false)
  user.is_admin?  # =&gt; true</pre>
					

					
					<div class="method-source-code"
						id="attributes--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1575</span>
1575:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attributes=</span>(<span class="ruby-identifier">new_attributes</span>, <span class="ruby-identifier">guard_protected_attributes</span> = <span class="ruby-keyword kw">true</span>)
1576:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">new_attributes</span>.<span class="ruby-identifier">nil?</span>
1577:         <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">new_attributes</span>.<span class="ruby-identifier">stringify_keys</span>
1578: 
1579:         <span class="ruby-identifier">multi_parameter_attributes</span> = []
1580:         <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">remove_attributes_protected_from_mass_assignment</span>(<span class="ruby-identifier">attributes</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">guard_protected_attributes</span>
1581: 
1582:         <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
1583:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;(&quot;</span>)
1584:             <span class="ruby-identifier">multi_parameter_attributes</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> ]
1585:           <span class="ruby-keyword kw">else</span>
1586:             <span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:&quot;#{k}=&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">send</span>(<span class="ruby-value">:&quot;#{k}=&quot;</span>, <span class="ruby-identifier">v</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">UnknownAttributeError</span>, <span class="ruby-node">&quot;unknown attribute: #{k}&quot;</span>)
1587:           <span class="ruby-keyword kw">end</span>
1588:         <span class="ruby-keyword kw">end</span>
1589: 
1590:         <span class="ruby-identifier">assign_multiparameter_attributes</span>(<span class="ruby-identifier">multi_parameter_attributes</span>)
1591:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="cache-key-method" class="method-detail ">
				<a name="method-i-cache_key"></a>

				<div class="method-heading">
				
					<span class="method-name">cache_key</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a cache key that can be used to identify this record.
</p>
<h4>Examples</h4>
<pre>
  Product.new.cache_key     # =&gt; &quot;products/new&quot;
  Product.find(5).cache_key # =&gt; &quot;products/5&quot; (updated_at not available)
  Person.find(5).cache_key  # =&gt; &quot;people/5-20071224150000&quot; (updated_at available)</pre>
					

					
					<div class="method-source-code"
						id="cache-key-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1517</span>
1517:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cache_key</span>
1518:         <span class="ruby-keyword kw">case</span>
1519:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">new_record?</span>
1520:           <span class="ruby-node">&quot;#{self.class.model_name.cache_key}/new&quot;</span>
1521:         <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">timestamp</span> = <span class="ruby-keyword kw">self</span>[<span class="ruby-value">:updated_at</span>]
1522:           <span class="ruby-node">&quot;#{self.class.model_name.cache_key}/#{id}-#{timestamp.to_s(:number)}&quot;</span>
1523:         <span class="ruby-keyword kw">else</span>
1524:           <span class="ruby-node">&quot;#{self.class.model_name.cache_key}/#{id}&quot;</span>
1525:         <span class="ruby-keyword kw">end</span>
1526:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="column-for-attribute-method" class="method-detail ">
				<a name="method-i-column_for_attribute"></a>

				<div class="method-heading">
				
					<span class="method-name">column_for_attribute</span><span
						class="method-args">(name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the column object for the named attribute.
</p>
					

					
					<div class="method-source-code"
						id="column-for-attribute-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1633</span>
1633:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_for_attribute</span>(<span class="ruby-identifier">name</span>)
1634:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">columns_hash</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>]
1635:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="connection-method" class="method-detail ">
				<a name="method-i-connection"></a>

				<div class="method-heading">
				
					<span class="method-name">connection</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the connection currently associated with the class. This can also
be used to &#8220;borrow&#8221; the connection to do database work that
isn&#8217;t easily done without going straight to SQL.
</p>
					

					
					<div class="method-source-code"
						id="connection-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 19</span>
19:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">connection</span>
20:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">connection</span>
21:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="dup-method" class="method-detail ">
				<a name="method-i-dup"></a>

				<div class="method-heading">
				
					<span class="method-name">dup</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns duplicated record with unfreezed attributes.
</p>
					

					
					<div class="method-source-code"
						id="dup-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1666</span>
1666:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dup</span>
1667:         <span class="ruby-identifier">obj</span> = <span class="ruby-keyword kw">super</span>
1668:         <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value str">'@attributes'</span>, <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">dup</span>)
1669:         <span class="ruby-identifier">obj</span>
1670:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="eql--method" class="method-detail ">
				<a name="method-i-eql%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">eql?</span><span
						class="method-args">(comparison_object)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Delegates to ==
</p>
					

					
					<div class="method-source-code"
						id="eql--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1645</span>
1645:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">comparison_object</span>)
1646:         <span class="ruby-keyword kw">self</span> <span class="ruby-operator">==</span> (<span class="ruby-identifier">comparison_object</span>)
1647:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="freeze-method" class="method-detail ">
				<a name="method-i-freeze"></a>

				<div class="method-heading">
				
					<span class="method-name">freeze</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Freeze the attributes hash such that associations are still accessible,
even on destroyed records.
</p>
					

					
					<div class="method-source-code"
						id="freeze-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1656</span>
1656:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">freeze</span>
1657:         <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">freeze</span>; <span class="ruby-keyword kw">self</span>
1658:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="frozen--method" class="method-detail ">
				<a name="method-i-frozen%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">frozen?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns <tt>true</tt> if the attributes hash has been frozen.
</p>
					

					
					<div class="method-source-code"
						id="frozen--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1661</span>
1661:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">frozen?</span>
1662:         <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">frozen?</span>
1663:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="has-attribute--method" class="method-detail ">
				<a name="method-i-has_attribute%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">has_attribute?</span><span
						class="method-args">(attr_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns true if the given attribute is in the attributes hash
</p>
					

					
					<div class="method-source-code"
						id="has-attribute--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1533</span>
1533:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_attribute?</span>(<span class="ruby-identifier">attr_name</span>)
1534:         <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">attr_name</span>.<span class="ruby-identifier">to_s</span>)
1535:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="hash-method" class="method-detail ">
				<a name="method-i-hash"></a>

				<div class="method-heading">
				
					<span class="method-name">hash</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Delegates to id in order to allow two records of the same type and id to
work with something like:
</p>
<pre>
  [ Person.find(1), Person.find(2), Person.find(3) ] &amp; [ Person.find(1), Person.find(4) ] # =&gt; [ Person.find(1) ]</pre>
					

					
					<div class="method-source-code"
						id="hash-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1651</span>
1651:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>
1652:         <span class="ruby-identifier">id</span>.<span class="ruby-identifier">hash</span>
1653:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="initialize-copy-method" class="method-detail ">
				<a name="method-i-initialize_copy"></a>

				<div class="method-heading">
				
					<span class="method-name">initialize_copy</span><span
						class="method-args">(other)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Cloned objects have no id assigned and are treated as new records. Note
that this is a &#8220;shallow&#8221; clone as it copies the object&#8217;s
attributes only, not its associations. The extent of a &#8220;deep&#8221;
clone is application specific and is therefore left to the application to
implement according to its need.
</p>
					

					
					<div class="method-source-code"
						id="initialize-copy-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1452</span>
1452:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_copy</span>(<span class="ruby-identifier">other</span>)
1453:         <span class="ruby-comment cmt"># Think the assertion which fails if the after_initialize callback goes at the end of the method is wrong. The</span>
1454:         <span class="ruby-comment cmt"># deleted clone method called new which therefore called the after_initialize callback. It then went on to copy</span>
1455:         <span class="ruby-comment cmt"># over the attributes. But if it's copying the attributes afterwards then it hasn't finished initializing right?</span>
1456:         <span class="ruby-comment cmt"># For example in the test suite the topic model's after_initialize method sets the author_email_address to</span>
1457:         <span class="ruby-comment cmt"># test@test.com. I would have thought this would mean that all cloned models would have an author email address</span>
1458:         <span class="ruby-comment cmt"># of test@test.com. However the test_clone test method seems to test that this is not the case. As a result the</span>
1459:         <span class="ruby-comment cmt"># after_initialize callback has to be run *before* the copying of the atrributes rather than afterwards in order</span>
1460:         <span class="ruby-comment cmt"># for all tests to pass. This makes no sense to me.</span>
1461:         <span class="ruby-identifier">callback</span>(<span class="ruby-value">:after_initialize</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">respond_to_without_attributes?</span>(<span class="ruby-value">:after_initialize</span>)
1462:         <span class="ruby-identifier">cloned_attributes</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">clone_attributes</span>(<span class="ruby-value">:read_attribute_before_type_cast</span>)
1463:         <span class="ruby-identifier">cloned_attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>)
1464: 
1465:         <span class="ruby-ivar">@attributes</span> = <span class="ruby-identifier">cloned_attributes</span>
1466: 
1467:         <span class="ruby-ivar">@changed_attributes</span> = {}
1468:         <span class="ruby-identifier">attributes_from_column_definition</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">orig_value</span><span class="ruby-operator">|</span>
1469:           <span class="ruby-ivar">@changed_attributes</span>[<span class="ruby-identifier">attr</span>] = <span class="ruby-identifier">orig_value</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">field_changed?</span>(<span class="ruby-identifier">attr</span>, <span class="ruby-identifier">orig_value</span>, <span class="ruby-ivar">@attributes</span>[<span class="ruby-identifier">attr</span>])
1470:         <span class="ruby-keyword kw">end</span>
1471: 
1472:         <span class="ruby-identifier">clear_aggregation_cache</span>
1473:         <span class="ruby-ivar">@attributes_cache</span> = {}
1474:         <span class="ruby-ivar">@new_record</span> = <span class="ruby-keyword kw">true</span>
1475:         <span class="ruby-identifier">ensure_proper_type</span>
1476: 
1477:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">scope</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:current_scoped_methods</span>)
1478:           <span class="ruby-identifier">create_with</span> = <span class="ruby-identifier">scope</span>.<span class="ruby-identifier">scope_for_create</span>
1479:           <span class="ruby-identifier">create_with</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">att</span>,<span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{att}=&quot;</span>, <span class="ruby-identifier">value</span>) } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">create_with</span>
1480:         <span class="ruby-keyword kw">end</span>
1481:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="inspect-method" class="method-detail ">
				<a name="method-i-inspect"></a>

				<div class="method-heading">
				
					<span class="method-name">inspect</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the contents of the record as a nicely formatted string.
</p>
					

					
					<div class="method-source-code"
						id="inspect-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1684</span>
1684:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
1685:         <span class="ruby-identifier">attributes_as_nice_string</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">column_names</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
1686:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">has_attribute?</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">new_record?</span>
1687:             <span class="ruby-node">&quot;#{name}: #{attribute_for_inspect(name)}&quot;</span>
1688:           <span class="ruby-keyword kw">end</span>
1689:         }.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;, &quot;</span>)
1690:         <span class="ruby-node">&quot;#&lt;#{self.class} #{attributes_as_nice_string}&gt;&quot;</span>
1691:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="readonly--method" class="method-detail ">
				<a name="method-i-readonly%21"></a>

				<div class="method-heading">
				
					<span class="method-name">readonly!</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Marks this record as read only.
</p>
					

					
					<div class="method-source-code"
						id="readonly--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1679</span>
1679:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readonly!</span>
1680:         <span class="ruby-ivar">@readonly</span> = <span class="ruby-keyword kw">true</span>
1681:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="readonly--method" class="method-detail ">
				<a name="method-i-readonly%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">readonly?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns <tt>true</tt> if the record is read only. Records loaded through
joins with piggy-back attributes will be marked as read only since they
cannot be saved.
</p>
					

					
					<div class="method-source-code"
						id="readonly--source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1674</span>
1674:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readonly?</span>
1675:         <span class="ruby-ivar">@readonly</span>
1676:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="to-param-method" class="method-detail ">
				<a name="method-i-to_param"></a>

				<div class="method-heading">
				
					<span class="method-name">to_param</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a String, which Action Pack uses for constructing an URL to this
object. The default implementation returns this record&#8217;s id as a
String, or nil if this record&#8217;s unsaved.
</p>
<p>
For example, suppose that you have a User model, and that you have a
<tt>resources :users</tt> route. Normally, <tt>user_path</tt> will
construct a path with the user object&#8217;s &#8216;id&#8217; in it:
</p>
<pre>
  user = User.find_by_name('Phusion')
  user_path(user)  # =&gt; &quot;/users/1&quot;
</pre>
<p>
You can override <tt><a
href="Base.html#method-i-to_param">to_param</a></tt> in your model to make
<tt>user_path</tt> construct a path using the user&#8217;s name instead of
the user&#8217;s id:
</p>
<pre>
  class User &lt; ActiveRecord::Base
    def to_param  # overridden
      name
    end
  end

  user = User.find_by_name('Phusion')
  user_path(user)  # =&gt; &quot;/users/Phusion&quot;</pre>
					

					
					<div class="method-source-code"
						id="to-param-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1505</span>
1505:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_param</span>
1506:         <span class="ruby-comment cmt"># We can't use alias_method here, because method 'id' optimizes itself on the fly.</span>
1507:         <span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-comment cmt"># Be sure to stringify the id for routes</span>
1508:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="protected-instance-method-details" class="method-section section">
			<h3 class="section-header">Protected Instance Methods</h3>

		
			<div id="clone-attribute-value-method" class="method-detail ">
				<a name="method-i-clone_attribute_value"></a>

				<div class="method-heading">
				
					<span class="method-name">clone_attribute_value</span><span
						class="method-args">(reader_method, attribute_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="clone-attribute-value-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1701</span>
1701:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone_attribute_value</span>(<span class="ruby-identifier">reader_method</span>, <span class="ruby-identifier">attribute_name</span>)
1702:         <span class="ruby-identifier">value</span> = <span class="ruby-identifier">send</span>(<span class="ruby-identifier">reader_method</span>, <span class="ruby-identifier">attribute_name</span>)
1703:         <span class="ruby-identifier">value</span>.<span class="ruby-identifier">duplicable?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">clone</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
1704:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-constant">NoMethodError</span>
1705:         <span class="ruby-identifier">value</span>
1706:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="clone-attributes-method" class="method-detail ">
				<a name="method-i-clone_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">clone_attributes</span><span
						class="method-args">(reader_method = :read_attribute, attributes = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="clone-attributes-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1694</span>
1694:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clone_attributes</span>(<span class="ruby-identifier">reader_method</span> = <span class="ruby-value">:read_attribute</span>, <span class="ruby-identifier">attributes</span> = {})
1695:         <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
1696:           <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">clone_attribute_value</span>(<span class="ruby-identifier">reader_method</span>, <span class="ruby-identifier">name</span>)
1697:         <span class="ruby-keyword kw">end</span>
1698:         <span class="ruby-identifier">attributes</span>
1699:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="arel-attributes-values-method" class="method-detail ">
				<a name="method-i-arel_attributes_values"></a>

				<div class="method-heading">
				
					<span class="method-name">arel_attributes_values</span><span
						class="method-args">(include_primary_key = true, include_readonly_attributes = true, attribute_names = @attributes.keys)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a copy of the attributes hash where all the values have been safely
quoted for use in an Arel insert/update method.
</p>
					

					
					<div class="method-source-code"
						id="arel-attributes-values-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1765</span>
1765:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arel_attributes_values</span>(<span class="ruby-identifier">include_primary_key</span> = <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">include_readonly_attributes</span> = <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">attribute_names</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">keys</span>)
1766:         <span class="ruby-identifier">attrs</span> = {}
1767:         <span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
1768:           <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">column</span> = <span class="ruby-identifier">column_for_attribute</span>(<span class="ruby-identifier">name</span>)) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">include_primary_key</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">column</span>.<span class="ruby-identifier">primary</span>)
1769: 
1770:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">include_readonly_attributes</span> <span class="ruby-operator">||</span> (<span class="ruby-operator">!</span><span class="ruby-identifier">include_readonly_attributes</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">readonly_attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">name</span>))
1771:               <span class="ruby-identifier">value</span> = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">name</span>)
1772: 
1773:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;&amp;</span> ((<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">serialized_attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">value</span>.<span class="ruby-identifier">acts_like?</span>(<span class="ruby-value">:date</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">acts_like?</span>(<span class="ruby-value">:time</span>))) <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>))
1774:                 <span class="ruby-identifier">value</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_yaml</span>
1775:               <span class="ruby-keyword kw">end</span>
1776:               <span class="ruby-identifier">attrs</span>[<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">arel_table</span>[<span class="ruby-identifier">name</span>]] = <span class="ruby-identifier">value</span>
1777:             <span class="ruby-keyword kw">end</span>
1778:           <span class="ruby-keyword kw">end</span>
1779:         <span class="ruby-keyword kw">end</span>
1780:         <span class="ruby-identifier">attrs</span>
1781:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="assign-multiparameter-attributes-method" class="method-detail ">
				<a name="method-i-assign_multiparameter_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">assign_multiparameter_attributes</span><span
						class="method-args">(pairs)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Instantiates objects for all attribute classes that needs more than one
constructor parameter. This is done by calling new on the column type or
aggregation type (through composed_of) object with these parameters. So
having the pairs written_on(1) = &#8220;2004&#8221;, written_on(2) =
&#8220;6&#8221;, written_on(3) = &#8220;24&#8221;, will instantiate
written_on (a date type) with Date.new(&#8220;2004&#8221;, &#8220;6&#8221;,
&#8220;24&#8221;). You can also specify a typecast character in the
parentheses to have the parameters typecasted before they&#8217;re used in
the constructor. Use i for <a href="../Fixnum.html">Fixnum</a>, f for <a
href="../Float.html">Float</a>, s for String, and a for Array. If all the
values for a given attribute are empty, the attribute will be set to nil.
</p>
					

					
					<div class="method-source-code"
						id="assign-multiparameter-attributes-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1800</span>
1800:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assign_multiparameter_attributes</span>(<span class="ruby-identifier">pairs</span>)
1801:         <span class="ruby-identifier">execute_callstack_for_multiparameter_attributes</span>(
1802:           <span class="ruby-identifier">extract_callstack_for_multiparameter_attributes</span>(<span class="ruby-identifier">pairs</span>)
1803:         )
1804:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="attributes-protected-by-default-method" class="method-detail ">
				<a name="method-i-attributes_protected_by_default"></a>

				<div class="method-heading">
				
					<span class="method-name">attributes_protected_by_default</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
The primary key and inheritance column can never be set by mass-assignment
for security reasons.
</p>
					

					
					<div class="method-source-code"
						id="attributes-protected-by-default-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1757</span>
1757:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attributes_protected_by_default</span>
1758:         <span class="ruby-identifier">default</span> = [ <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">inheritance_column</span> ]
1759:         <span class="ruby-identifier">default</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'id'</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>.<span class="ruby-identifier">eql?</span> <span class="ruby-value str">'id'</span>
1760:         <span class="ruby-identifier">default</span>
1761:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="comma-pair-list-method" class="method-detail ">
				<a name="method-i-comma_pair_list"></a>

				<div class="method-heading">
				
					<span class="method-name">comma_pair_list</span><span
						class="method-args">(hash)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a comma-separated pair list, like &#8220;key1 = val1, key2 =
val2&#8221;.
</p>
					

					
					<div class="method-source-code"
						id="comma-pair-list-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1875</span>
1875:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">comma_pair_list</span>(<span class="ruby-identifier">hash</span>)
1876:         <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{k} = #{v}&quot;</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;, &quot;</span>)
1877:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="convert-number-column-value-method" class="method-detail ">
				<a name="method-i-convert_number_column_value"></a>

				<div class="method-heading">
				
					<span class="method-name">convert_number_column_value</span><span
						class="method-args">(value)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="convert-number-column-value-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1890</span>
1890:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">convert_number_column_value</span>(<span class="ruby-identifier">value</span>)
1891:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
1892:           <span class="ruby-value">0</span>
1893:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
1894:           <span class="ruby-value">1</span>
1895:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">blank?</span>
1896:           <span class="ruby-keyword kw">nil</span>
1897:         <span class="ruby-keyword kw">else</span>
1898:           <span class="ruby-identifier">value</span>
1899:         <span class="ruby-keyword kw">end</span>
1900:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="ensure-proper-type-method" class="method-detail ">
				<a name="method-i-ensure_proper_type"></a>

				<div class="method-heading">
				
					<span class="method-name">ensure_proper_type</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sets the attribute used for single table inheritance to this class name if
this is not the <a href="Base.html">ActiveRecord::Base</a> descendant.
Considering the hierarchy Reply < Message < <a
href="Base.html">ActiveRecord::Base</a>, this makes it possible to do
Reply.new without having to set <tt><a
href="http://Reply.inheritance_column">Reply</a> = &quot;Reply&quot;</tt>
yourself. No such attribute would be set for objects of the Message class
in that example.
</p>
					

					
					<div class="method-source-code"
						id="ensure-proper-type-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1714</span>
1714:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ensure_proper_type</span>
1715:         <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">descends_from_active_record?</span>
1716:           <span class="ruby-identifier">write_attribute</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">inheritance_column</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">sti_name</span>)
1717:         <span class="ruby-keyword kw">end</span>
1718:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="execute-callstack-for-multiparameter-attributes-method" class="method-detail ">
				<a name="method-i-execute_callstack_for_multiparameter_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">execute_callstack_for_multiparameter_attributes</span><span
						class="method-args">(callstack)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="execute-callstack-for-multiparameter-attributes-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1814</span>
1814:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">execute_callstack_for_multiparameter_attributes</span>(<span class="ruby-identifier">callstack</span>)
1815:         <span class="ruby-identifier">errors</span> = []
1816:         <span class="ruby-identifier">callstack</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">values_with_empty_parameters</span><span class="ruby-operator">|</span>
1817:           <span class="ruby-keyword kw">begin</span>
1818:             <span class="ruby-identifier">klass</span> = (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">reflect_on_aggregation</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">column_for_attribute</span>(<span class="ruby-identifier">name</span>)).<span class="ruby-identifier">klass</span>
1819:             <span class="ruby-comment cmt"># in order to allow a date to be set without a year, we must keep the empty values.</span>
1820:             <span class="ruby-comment cmt"># Otherwise, we wouldn't be able to distinguish it from a date with an empty day.</span>
1821:             <span class="ruby-identifier">values</span> = <span class="ruby-identifier">values_with_empty_parameters</span>.<span class="ruby-identifier">reject</span>(&amp;<span class="ruby-value">:nil?</span>)
1822: 
1823:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">empty?</span>
1824:               <span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;=&quot;</span>, <span class="ruby-keyword kw">nil</span>)
1825:             <span class="ruby-keyword kw">else</span>
1826: 
1827:               <span class="ruby-identifier">value</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Time</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">klass</span>
1828:                 <span class="ruby-identifier">instantiate_time_object</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">values</span>)
1829:               <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">Date</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">klass</span>
1830:                 <span class="ruby-keyword kw">begin</span>
1831:                   <span class="ruby-identifier">values</span> = <span class="ruby-identifier">values_with_empty_parameters</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span> <span class="ruby-keyword kw">end</span>
1832:                   <span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">values</span>)
1833:                 <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span> <span class="ruby-comment cmt"># if Date.new raises an exception on an invalid date</span>
1834:                   <span class="ruby-identifier">instantiate_time_object</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">values</span>).<span class="ruby-identifier">to_date</span> <span class="ruby-comment cmt"># we instantiate Time object and convert it back to a date thus using Time's logic in handling invalid dates</span>
1835:                 <span class="ruby-keyword kw">end</span>
1836:               <span class="ruby-keyword kw">else</span>
1837:                 <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>(*<span class="ruby-identifier">values</span>)
1838:               <span class="ruby-keyword kw">end</span>
1839: 
1840:               <span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;=&quot;</span>, <span class="ruby-identifier">value</span>)
1841:             <span class="ruby-keyword kw">end</span>
1842:           <span class="ruby-keyword kw">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
1843:             <span class="ruby-identifier">errors</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">AttributeAssignmentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;error on assignment #{values.inspect} to #{name}&quot;</span>, <span class="ruby-identifier">ex</span>, <span class="ruby-identifier">name</span>)
1844:           <span class="ruby-keyword kw">end</span>
1845:         <span class="ruby-keyword kw">end</span>
1846:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">empty?</span>
1847:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">MultiparameterAssignmentErrors</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">errors</span>), <span class="ruby-node">&quot;#{errors.size} error(s) on assignment of multiparameter attributes&quot;</span>
1848:         <span class="ruby-keyword kw">end</span>
1849:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="extract-callstack-for-multiparameter-attributes-method" class="method-detail ">
				<a name="method-i-extract_callstack_for_multiparameter_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">extract_callstack_for_multiparameter_attributes</span><span
						class="method-args">(pairs)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="extract-callstack-for-multiparameter-attributes-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1851</span>
1851:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extract_callstack_for_multiparameter_attributes</span>(<span class="ruby-identifier">pairs</span>)
1852:         <span class="ruby-identifier">attributes</span> = { }
1853: 
1854:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">pair</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">pairs</span>
1855:           <span class="ruby-identifier">multiparameter_name</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">pair</span>
1856:           <span class="ruby-identifier">attribute_name</span> = <span class="ruby-identifier">multiparameter_name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;(&quot;</span>).<span class="ruby-identifier">first</span>
1857:           <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">attribute_name</span>] = [] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">attribute_name</span>)
1858: 
1859:           <span class="ruby-identifier">parameter_value</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">type_cast_attribute_value</span>(<span class="ruby-identifier">multiparameter_name</span>, <span class="ruby-identifier">value</span>)
1860:           <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">attribute_name</span>] <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">find_parameter_position</span>(<span class="ruby-identifier">multiparameter_name</span>), <span class="ruby-identifier">parameter_value</span> ]
1861:         <span class="ruby-keyword kw">end</span>
1862: 
1863:         <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">values</span>.<span class="ruby-identifier">sort_by</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">first</span> }.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">last</span> } }
1864:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="find-parameter-position-method" class="method-detail ">
				<a name="method-i-find_parameter_position"></a>

				<div class="method-heading">
				
					<span class="method-name">find_parameter_position</span><span
						class="method-args">(multiparameter_name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="find-parameter-position-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1870</span>
1870:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_parameter_position</span>(<span class="ruby-identifier">multiparameter_name</span>)
1871:         <span class="ruby-identifier">multiparameter_name</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp re">/\(([0-9]*).*\)/</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">first</span>
1872:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="instantiate-time-object-method" class="method-detail ">
				<a name="method-i-instantiate_time_object"></a>

				<div class="method-heading">
				
					<span class="method-name">instantiate_time_object</span><span
						class="method-args">(name, values)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="instantiate-time-object-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1806</span>
1806:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instantiate_time_object</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">values</span>)
1807:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:create_time_zone_conversion_attribute?</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">column_for_attribute</span>(<span class="ruby-identifier">name</span>))
1808:           <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone</span>.<span class="ruby-identifier">local</span>(*<span class="ruby-identifier">values</span>)
1809:         <span class="ruby-keyword kw">else</span>
1810:           <span class="ruby-constant">Time</span>.<span class="ruby-identifier">time_with_datetime_fallback</span>(<span class="ruby-identifier">@@default_timezone</span>, *<span class="ruby-identifier">values</span>)
1811:         <span class="ruby-keyword kw">end</span>
1812:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="interpolate-sql-method" class="method-detail ">
				<a name="method-i-interpolate_sql"></a>

				<div class="method-heading">
				
					<span class="method-name">interpolate_sql</span><span
						class="method-args">(sql, record = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Interpolate custom SQL string in instance context. Optional record argument
is meant for custom insert_sql.
</p>
					

					
					<div class="method-source-code"
						id="interpolate-sql-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1790</span>
1790:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">interpolate_sql</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">record</span> = <span class="ruby-keyword kw">nil</span>)
1791:         <span class="ruby-identifier">instance_eval</span>(<span class="ruby-node">&quot;%@#{sql.gsub('@', '\@')}@&quot;</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
1792:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="log-protected-attribute-removal-method" class="method-detail ">
				<a name="method-i-log_protected_attribute_removal"></a>

				<div class="method-heading">
				
					<span class="method-name">log_protected_attribute_removal</span><span
						class="method-args">(*attributes)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="log-protected-attribute-removal-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1750</span>
1750:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log_protected_attribute_removal</span>(*<span class="ruby-identifier">attributes</span>)
1751:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">logger</span>
1752:           <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span> <span class="ruby-node">&quot;WARNING: Can't mass-assign these protected attributes: #{attributes.join(', ')}&quot;</span>
1753:         <span class="ruby-keyword kw">end</span>
1754:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="object-from-yaml-method" class="method-detail ">
				<a name="method-i-object_from_yaml"></a>

				<div class="method-heading">
				
					<span class="method-name">object_from_yaml</span><span
						class="method-args">(string)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="object-from-yaml-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1902</span>
1902:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">object_from_yaml</span>(<span class="ruby-identifier">string</span>)
1903:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">string</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">string</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^---/</span>
1904:         <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load</span>(<span class="ruby-identifier">string</span>) <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">string</span>
1905:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="quote-columns-method" class="method-detail ">
				<a name="method-i-quote_columns"></a>

				<div class="method-heading">
				
					<span class="method-name">quote_columns</span><span
						class="method-args">(quoter, hash)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="quote-columns-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1879</span>
1879:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quote_columns</span>(<span class="ruby-identifier">quoter</span>, <span class="ruby-identifier">hash</span>)
1880:         <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">quoted</span>, (<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)<span class="ruby-operator">|</span>
1881:           <span class="ruby-identifier">quoted</span>[<span class="ruby-identifier">quoter</span>.<span class="ruby-identifier">quote_column_name</span>(<span class="ruby-identifier">name</span>)] = <span class="ruby-identifier">value</span>
1882:           <span class="ruby-identifier">quoted</span>
1883:         <span class="ruby-keyword kw">end</span>
1884:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="quote-value-method" class="method-detail ">
				<a name="method-i-quote_value"></a>

				<div class="method-heading">
				
					<span class="method-name">quote_value</span><span
						class="method-args">(value, column = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Quote strings appropriately for SQL statements.
</p>
					

					
					<div class="method-source-code"
						id="quote-value-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1784</span>
1784:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quote_value</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">column</span> = <span class="ruby-keyword kw">nil</span>)
1785:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">column</span>)
1786:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="quoted-comma-pair-list-method" class="method-detail ">
				<a name="method-i-quoted_comma_pair_list"></a>

				<div class="method-heading">
				
					<span class="method-name">quoted_comma_pair_list</span><span
						class="method-args">(quoter, hash)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="quoted-comma-pair-list-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1886</span>
1886:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_comma_pair_list</span>(<span class="ruby-identifier">quoter</span>, <span class="ruby-identifier">hash</span>)
1887:         <span class="ruby-identifier">comma_pair_list</span>(<span class="ruby-identifier">quote_columns</span>(<span class="ruby-identifier">quoter</span>, <span class="ruby-identifier">hash</span>))
1888:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="remove-attributes-protected-from-mass-assignment-method" class="method-detail ">
				<a name="method-i-remove_attributes_protected_from_mass_assignment"></a>

				<div class="method-heading">
				
					<span class="method-name">remove_attributes_protected_from_mass_assignment</span><span
						class="method-args">(attributes)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="remove-attributes-protected-from-mass-assignment-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1720</span>
1720:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_attributes_protected_from_mass_assignment</span>(<span class="ruby-identifier">attributes</span>)
1721:         <span class="ruby-identifier">safe_attributes</span> =
1722:           <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">accessible_attributes</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">protected_attributes</span>.<span class="ruby-identifier">nil?</span>
1723:             <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attributes_protected_by_default</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\(.+/</span>, <span class="ruby-value str">&quot;&quot;</span>)) }
1724:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">protected_attributes</span>.<span class="ruby-identifier">nil?</span>
1725:             <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">accessible_attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\(.+/</span>, <span class="ruby-value str">&quot;&quot;</span>)) <span class="ruby-operator">||</span> <span class="ruby-identifier">attributes_protected_by_default</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\(.+/</span>, <span class="ruby-value str">&quot;&quot;</span>)) }
1726:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">accessible_attributes</span>.<span class="ruby-identifier">nil?</span>
1727:             <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">protected_attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\(.+/</span>,<span class="ruby-value str">&quot;&quot;</span>)) <span class="ruby-operator">||</span> <span class="ruby-identifier">attributes_protected_by_default</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\(.+/</span>, <span class="ruby-value str">&quot;&quot;</span>)) }
1728:           <span class="ruby-keyword kw">else</span>
1729:             <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Declare either attr_protected or attr_accessible for #{self.class}, but not both.&quot;</span>
1730:           <span class="ruby-keyword kw">end</span>
1731: 
1732:         <span class="ruby-identifier">removed_attributes</span> = <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">keys</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">safe_attributes</span>.<span class="ruby-identifier">keys</span>
1733: 
1734:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">removed_attributes</span>.<span class="ruby-identifier">any?</span>
1735:           <span class="ruby-identifier">log_protected_attribute_removal</span>(<span class="ruby-identifier">removed_attributes</span>)
1736:         <span class="ruby-keyword kw">end</span>
1737: 
1738:         <span class="ruby-identifier">safe_attributes</span>
1739:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="remove-readonly-attributes-method" class="method-detail ">
				<a name="method-i-remove_readonly_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">remove_readonly_attributes</span><span
						class="method-args">(attributes)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Removes attributes which have been marked as readonly.
</p>
					

					
					<div class="method-source-code"
						id="remove-readonly-attributes-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1742</span>
1742:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_readonly_attributes</span>(<span class="ruby-identifier">attributes</span>)
1743:         <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">readonly_attributes</span>.<span class="ruby-identifier">nil?</span>
1744:           <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">readonly_attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\(.+/</span>,<span class="ruby-value str">&quot;&quot;</span>)) }
1745:         <span class="ruby-keyword kw">else</span>
1746:           <span class="ruby-identifier">attributes</span>
1747:         <span class="ruby-keyword kw">end</span>
1748:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="type-cast-attribute-value-method" class="method-detail ">
				<a name="method-i-type_cast_attribute_value"></a>

				<div class="method-heading">
				
					<span class="method-name">type_cast_attribute_value</span><span
						class="method-args">(multiparameter_name, value)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="type-cast-attribute-value-source">
<pre>
      <span class="ruby-comment cmt"># File /Users/xstegner/.rvm/gems/ruby-1.9.2-rc1/gems/activerecord-3.0.0.beta4/lib/active_record/base.rb, line 1866</span>
1866:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">type_cast_attribute_value</span>(<span class="ruby-identifier">multiparameter_name</span>, <span class="ruby-identifier">value</span>)
1867:         <span class="ruby-identifier">multiparameter_name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\([0-9]*([if])\)/</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value str">&quot;to_&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-node">$1</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
1868:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

